<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="top.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>top.m4</title>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <script src="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.js"></script>
   <link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.css" />

<style>
/*
Copyright (c) 2015, Steven F. Hoover
All rights reserved.
*/
.tlv_ident_error {
  color: red;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipeline {
  color: orange;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_1 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_2 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_grouping {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_state_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_assigned_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_malformed_assigned_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_phys_hier {
  color: blue;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_phys_beh_hier {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_stage_name {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_next_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_incr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_prev_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_decr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_alignment_expr_1ab {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_expr_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_keyword_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_zero_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_crosspipe_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_tlv_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_misc_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_sv_sig {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_datatype {
  color: DarkRed;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_keyword1 {
  color: Blue;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_comment {
  color: #808080;
  font-style: italic;
  font-weight: 600;
}
.tlv_ident_hdl_code {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}

</style>

</head>

<body>

<h2>top.m4</h2>

<pre>
<span class="line" line-num="1" source-line-num="1"><span class="tlv_ident_keyword1">\TLV_version 1d: tl-x.org</span></span>
<span class="line" line-num="2" source-line-num="2"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="3" source-line-num="3"></span>
<span class="line" line-num="4" source-line-num="4"><span class="tlv_ident_comment">// --------------------------------------------------------------------</span></span>
<span class="line" line-num="5" source-line-num="5"><span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="6" source-line-num="6"><span class="tlv_ident_comment">// This example implements Conway's Game of Life.</span></span>
<span class="line" line-num="7" source-line-num="7"><span class="tlv_ident_comment">// In this &quot;game&quot;, a grid of cells (10x10) are born and die based on the</span></span>
<span class="line" line-num="8" source-line-num="8"><span class="tlv_ident_comment">// number of live neighbors they have in each step (clock cycle).</span></span>
<span class="line" line-num="9" source-line-num="9"><span class="tlv_ident_comment">// A cell's neighbors are the surrounding 8 cells, which includes the</span></span>
<span class="line" line-num="10" source-line-num="10"><span class="tlv_ident_comment">// diagonals.</span></span>
<span class="line" line-num="11" source-line-num="11"><span class="tlv_ident_comment">//   - A cell is born if exactly 3 neighbors are alive.</span></span>
<span class="line" line-num="12" source-line-num="12"><span class="tlv_ident_comment">//   - A cell dies from overcrowding or starvation if it have &gt;3 or &lt;2</span></span>
<span class="line" line-num="13" source-line-num="13"><span class="tlv_ident_comment">//     neighbors.</span></span>
<span class="line" line-num="14" source-line-num="14"><span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="15" source-line-num="15"><span class="tlv_ident_comment">// Output shows the grid in each step of simulation.</span></span>
<span class="line" line-num="16" source-line-num="16"><span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="17" source-line-num="17"><span class="tlv_ident_comment">// This example shows:</span></span>
<span class="line" line-num="18" source-line-num="18"><span class="tlv_ident_comment">//   - Use of SystemVerilog constants.</span></span>
<span class="line" line-num="19" source-line-num="19"><span class="tlv_ident_comment">//   - Use of TL-Verilog &quot;behavioral hierarchy&quot;.  (Eg, &gt;xx[X_SIZE-1:0])</span></span>
<span class="line" line-num="20" source-line-num="20"><span class="tlv_ident_comment">//   - That TL-Verilog is not just for pipelines!</span></span>
<span class="line" line-num="21" source-line-num="21"><span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="22" source-line-num="22"><span class="tlv_ident_comment">// --------------------------------------------------------------------</span></span>
<span class="line" line-num="23" source-line-num="23"></span>
<span class="line" line-num="24" source-line-num="24"></span>
<span class="line" line-num="25" source-line-num="25"><span class="tlv_ident_hdl_code">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlv_ident_comment">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlv_ident_hdl_code">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlv_ident_comment">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */</span></span>
<span class="line" line-num="26" source-line-num="26"></span>
<span class="line" line-num="27" source-line-num="27"><span class="tlv_ident_comment">// -------------------------</span></span>
<span class="line" line-num="28" source-line-num="28"><span class="tlv_ident_comment">// Parameters</span></span>
<span class="line" line-num="29" source-line-num="29"></span>
<span class="line" line-num="30" source-line-num="30"><span class="tlv_ident_comment">// Board size</span></span>
<span class="line" line-num="31" source-line-num="31"><span class="tlv_ident_hdl_code">localparam X_SIZE = 10;  </span><span class="tlv_ident_comment">// Note: There's a hardcoded X_SIZE in $display statement.</span></span>
<span class="line" line-num="32" source-line-num="32"><span class="tlv_ident_hdl_code">localparam Y_SIZE = 10;</span></span>
<span class="line" line-num="33" source-line-num="33"></span>
<span class="line" line-num="34" source-line-num="34"><span class="tlv_ident_comment">/* verilator lint_off UNOPTFLAT */  // To silence Verilator warnings.</span></span>
<span class="line" line-num="35" source-line-num="35"></span>
<span class="line" line-num="36" source-line-num="36"><span class="tlv_ident_keyword1">\TLV</span></span>
<span class="line" line-num="37" source-line-num="37"></span>
<span class="line" line-num="38" source-line-num="38"></span>
<span class="line" line-num="39" source-line-num="39"></span>
<span class="line" line-num="40" source-line-num="40">   <span class="tlv_ident_comment">// -------------------------</span></span>
<span class="line" line-num="41" source-line-num="41">   <span class="tlv_ident_comment">// Design</span></span>
<span class="line" line-num="42" source-line-num="42"></span>
<span class="line" line-num="43" source-line-num="43">   <span class="tlv_ident_pipeline" logical_entity="|default">|default</span></span>
<span class="line" line-num="44" source-line-num="44">      <span class="tlv_ident_stage_expr" logical_entity="|default@2">@1</span></span>
<span class="line" line-num="45" source-line-num="45">         <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset;</span></span>
<span class="line" line-num="46" source-line-num="46">      <span class="tlv_ident_beh_hier_2" logical_entity="|default/yy">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">Y_SIZE-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="47" source-line-num="47">         <span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">X_SIZE-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="48" source-line-num="48">            <span class="tlv_ident_stage_expr" logical_entity="|default@2">@1</span></span>
<span class="line" line-num="49" source-line-num="49">               <span class="tlv_ident_comment">// Cell logic</span></span>
<span class="line" line-num="50" source-line-num="50"></span>
<span class="line" line-num="51" source-line-num="51">               <span class="tlv_ident_comment">// ===========</span></span>
<span class="line" line-num="52" source-line-num="52">               <span class="tlv_ident_comment">// Population count ($cnt) of 3x3 square (with edge logic).</span></span>
<span class="line" line-num="53" source-line-num="53">               </span>
<span class="line" line-num="54" source-line-num="54">               <span class="tlv_ident_comment">// Sum left + me + right.</span></span>
<span class="line" line-num="55" source-line-num="55">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/yy/xx$row_cnt">$row_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= {1'b0, (</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(xx + X_SIZE-1) % X_SIZE</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span> <span class="tlv_ident_hdl_code">&amp; (xx &gt; 0))} +</span></span>
<span class="line" line-num="56" source-line-num="56">                               <span class="tlv_ident_hdl_code">{1'b0, </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span><span class="tlv_ident_hdl_code">} +</span></span>
<span class="line" line-num="57" source-line-num="57">                               <span class="tlv_ident_hdl_code">{1'b0, (</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(xx + 1) % X_SIZE</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span> <span class="tlv_ident_hdl_code">&amp; (xx &lt; X_SIZE-1))};</span></span>
<span class="line" line-num="58" source-line-num="58">               <span class="tlv_ident_comment">// Sum three $row_cnt's: above + mine + below.</span></span>
<span class="line" line-num="59" source-line-num="59">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/yy/xx$cnt">$cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= {2'b00, (</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(yy + Y_SIZE-1) % Y_SIZE</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$row_cnt">$row_cnt</span> <span class="tlv_ident_hdl_code">&amp; {2{(yy &gt; 0)}})} +</span></span>
<span class="line" line-num="60" source-line-num="60">                           <span class="tlv_ident_hdl_code">{2'b00, </span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$row_cnt">$row_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">} +</span></span>
<span class="line" line-num="61" source-line-num="61">                           <span class="tlv_ident_hdl_code">{2'b00, (</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(yy + 1) % Y_SIZE</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$row_cnt">$row_cnt</span> <span class="tlv_ident_hdl_code">&amp; {2{(yy &lt; Y_SIZE-1)}})};</span></span>
<span class="line" line-num="62" source-line-num="62"></span>
<span class="line" line-num="63" source-line-num="63"></span>
<span class="line" line-num="64" source-line-num="64">               <span class="tlv_ident_comment">// ===========</span></span>
<span class="line" line-num="65" source-line-num="65">               <span class="tlv_ident_comment">// Init state.</span></span>
<span class="line" line-num="66" source-line-num="66">               </span>
<span class="line" line-num="67" source-line-num="67">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/yy/xx$init_alive">$init_alive</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">RW_rand_vect[(0 + ((yy * xx) ^ ((3 * xx) + yy))) % 257 +: 1];</span></span>
<span class="line" line-num="68" source-line-num="68"></span>
<span class="line" line-num="69" source-line-num="69"></span>
<span class="line" line-num="70" source-line-num="70">               <span class="tlv_ident_comment">// ===========</span></span>
<span class="line" line-num="71" source-line-num="71">               <span class="tlv_ident_comment">// Am I alive?</span></span>
<span class="line" line-num="72" source-line-num="72">               </span>
<span class="line" line-num="73" source-line-num="73">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset">$reset</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$init_alive">$init_alive</span> <span class="tlv_ident_hdl_code">:           </span><span class="tlv_ident_comment">// init</span></span>
<span class="line" line-num="74" source-line-num="74">                        <span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span> <span class="tlv_ident_hdl_code">? (</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$cnt">$cnt</span> <span class="tlv_ident_hdl_code">&gt;= 3 &amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$cnt">$cnt</span> <span class="tlv_ident_hdl_code">&lt;= 4) :   </span><span class="tlv_ident_comment">// stay alive</span></span>
<span class="line" line-num="75" source-line-num="75">                                    <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$cnt">$cnt</span> <span class="tlv_ident_hdl_code">== 3);                 </span><span class="tlv_ident_comment">// born</span></span>
<span class="line" line-num="76" source-line-num="76"></span>
<span class="line" line-num="77" source-line-num="77"></span>
<span class="line" line-num="78" source-line-num="78"></span>
<span class="line" line-num="79" source-line-num="79"></span>
<span class="line" line-num="80" source-line-num="80"></span>
<span class="line" line-num="81" source-line-num="81"></span>
<span class="line" line-num="82" source-line-num="82">   <span class="tlv_ident_comment">// -------------------------</span></span>
<span class="line" line-num="83" source-line-num="83">   <span class="tlv_ident_comment">// Embedded testbench</span></span>
<span class="line" line-num="84" source-line-num="84">   <span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="85" source-line-num="85">   <span class="tlv_ident_comment">// Declare success when total live cells was above 25% and remains below 6.25% for 20 cycles.</span></span>
<span class="line" line-num="86" source-line-num="86"></span>
<span class="line" line-num="87" source-line-num="87">   <span class="tlv_ident_comment">// Count live cells through accumulation, into $alive_cnt.</span></span>
<span class="line" line-num="88" source-line-num="88">   <span class="tlv_ident_comment">// Accumulate right-to-left, then bottom-to-top through &gt;yy[0].</span></span>
<span class="line" line-num="89" source-line-num="89">   <span class="tlv_ident_pipeline" logical_entity="|default">|default</span></span>
<span class="line" line-num="90" source-line-num="90">      <span class="tlv_ident_beh_hier_2" logical_entity="|default/tb">/tb</span></span>
<span class="line" line-num="91" source-line-num="91">         <span class="tlv_ident_stage_expr" logical_entity="|default@4">@2</span></span>
<span class="line" line-num="92" source-line-num="92">            <span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">Y_SIZE-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="93" source-line-num="93">               <span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy/xx">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">X_SIZE-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="94" source-line-num="94">                  <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="95" source-line-num="95">                     <span class="tlv_ident_hdl_code">if (xx &lt; X_SIZE - 1)</span></span>
<span class="line" line-num="96" source-line-num="96">                        <span class="tlv_ident_hdl_code">assign </span><span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb/yy/xx$right_alive_accum">$$right_alive_accum</span><span class="tlv_ident_assigned_pipe_sig">[</span><span class="tlv_ident_hdl_code">10</span><span class="tlv_ident_assigned_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_assigned_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">xx + 1</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy/xx$horiz_alive_accum">$horiz_alive_accum</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="97" source-line-num="97">                     <span class="tlv_ident_hdl_code">else</span></span>
<span class="line" line-num="98" source-line-num="98">                        <span class="tlv_ident_hdl_code">assign </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy/xx$right_alive_accum">$right_alive_accum</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">10</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= 11'b0;</span></span>
<span class="line" line-num="99" source-line-num="99">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb/yy/xx$horiz_alive_accum">$horiz_alive_accum</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">10</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy/xx$right_alive_accum">$right_alive_accum</span> <span class="tlv_ident_hdl_code">+ {10'b0, </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span><span class="tlv_ident_hdl_code">};</span></span>
<span class="line" line-num="100" source-line-num="100">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="101" source-line-num="101">                  <span class="tlv_ident_hdl_code">if (yy &lt; Y_SIZE -1)</span></span>
<span class="line" line-num="102" source-line-num="102">                     <span class="tlv_ident_hdl_code">assign </span><span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb/yy$below_alive_accum">$$below_alive_accum</span><span class="tlv_ident_assigned_pipe_sig">[</span><span class="tlv_ident_hdl_code">21</span><span class="tlv_ident_assigned_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_assigned_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">yy + 1</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy$vert_alive_accum">$vert_alive_accum</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="103" source-line-num="103">                  <span class="tlv_ident_hdl_code">else</span></span>
<span class="line" line-num="104" source-line-num="104">                     <span class="tlv_ident_hdl_code">assign </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy$below_alive_accum">$below_alive_accum</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">21</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= 22'b0;</span></span>
<span class="line" line-num="105" source-line-num="105">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb/yy$vert_alive_accum">$vert_alive_accum</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">21</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy$below_alive_accum">$below_alive_accum</span> <span class="tlv_ident_hdl_code">+ {11'b0, </span><span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy/xx$horiz_alive_accum">$horiz_alive_accum</span><span class="tlv_ident_hdl_code">};</span></span>
<span class="line" line-num="106" source-line-num="106">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb$alive_cnt">$alive_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">21</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="|default/tb/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb/yy$vert_alive_accum">$vert_alive_accum</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="107" source-line-num="107">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb$above_min_start">$above_min_start</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$alive_cnt">$alive_cnt</span> <span class="tlv_ident_hdl_code">&gt; (X_SIZE * Y_SIZE) &gt;&gt; 2;  </span><span class="tlv_ident_comment">// 1/4</span></span>
<span class="line" line-num="108" source-line-num="108">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb$below_max_stop">$below_max_stop</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$alive_cnt">$alive_cnt</span> <span class="tlv_ident_hdl_code">&lt; (X_SIZE * Y_SIZE) &gt;&gt; 4;  </span><span class="tlv_ident_comment">// 1/16</span></span>
<span class="line" line-num="109" source-line-num="109">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb$start_ok">$start_ok</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 : (</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@6">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$start_ok">$start_ok</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$above_min_start">$above_min_start</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="110" source-line-num="110">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|default/tb$stop_cnt">$stop_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset">$reset</span>  <span class="tlv_ident_hdl_code">? 8'b0 :</span></span>
<span class="line" line-num="111" source-line-num="111">                             <span class="tlv_ident_pipe_sig" logical_entity="|default/tb$below_max_stop">$below_max_stop</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@6">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$stop_cnt">$stop_cnt</span> <span class="tlv_ident_hdl_code">+ 8'b1 :</span></span>
<span class="line" line-num="112" source-line-num="112">                                               <span class="tlv_ident_hdl_code">8'b0;</span></span>
<span class="line" line-num="113" source-line-num="113">            <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">passed = </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@6">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$start_ok">$start_ok</span> <span class="tlv_ident_hdl_code">&amp;&amp; ((</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$alive_cnt">$alive_cnt</span> <span class="tlv_ident_hdl_code">== '0) || (</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|default@6">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="|default/tb$stop_cnt">$stop_cnt</span> <span class="tlv_ident_hdl_code">&gt; 8'd20));</span></span>
<span class="line" line-num="114" source-line-num="114"></span>
<span class="line" line-num="115" source-line-num="115">      <span class="tlv_ident_beh_hier_2" logical_entity="|default/print">/print</span></span>
<span class="line" line-num="116" source-line-num="116">         <span class="tlv_ident_comment">// Print</span></span>
<span class="line" line-num="117" source-line-num="117">         <span class="tlv_ident_stage_expr" logical_entity="|default@4">@2</span></span>
<span class="line" line-num="118" source-line-num="118">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="119" source-line-num="119">               <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="120" source-line-num="120">                  <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;---------------&quot;);</span></span>
<span class="line" line-num="121" source-line-num="121">                  <span class="tlv_ident_hdl_code">for (int y = 0; y &lt; Y_SIZE; y++) begin</span></span>
<span class="line" line-num="122" source-line-num="122">                     <span class="tlv_ident_hdl_code">if (! </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_pipe_sig" logical_entity="|default$reset">$reset</span><span class="tlv_ident_hdl_code">) begin</span></span>
<span class="line" line-num="123" source-line-num="123">                        <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;    </span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">%10b&quot;, </span><span class="tlv_ident_pipeline" logical_entity="|default"tlx_ref="">|default</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy"tlx_ref="">/yy</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">y</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_beh_hier_2" logical_entity="|default/yy/xx"tlx_ref="">/xx</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="|default/yy/xx$alive">$alive</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="124" source-line-num="124">                     <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="125" source-line-num="125">                  <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="126" source-line-num="126">               <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="127" source-line-num="127"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="128" source-line-num="128"><span class="tlv_ident_hdl_code">endmodule</span></span>

</pre>

</body>
</html>
