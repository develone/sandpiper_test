// Generated by SandPiper(TM) 1.9-2018/02/11-beta from Redwood EDA.
// (Installed here: /home/devel/SandPiper_1.9-2018_02_11-beta_distro.)
// Redwood EDA does not claim intellectual property rights to this file and provides no warranty regarding its correctness or quality.


// Transaction Flow Graph:

strict digraph "top.tlv" {
   graph [layout = dot, rankdir = "LR", outputorder = edgesfirst, splines = ortho];
   node [layer = 4, shape = star, height = 0.02, style = filled, fontsize = 10, fontcolor = "purple", color = "purple", fillcolor = "#ffffffb0", penwidth = 1.0, margin = "0.03,0.03"];
   edge [layer = 3, weight = 4, penwidth = 1.5, color = "purple", fontcolor = "#00D000", labelfontcolor = "purple"];
   subgraph "cluster." {
      fillcolor = "#1090c0"
      style = "filled,rounded"
      penwidth = 2.0
      fontsize = 50
      tooltip = "/top"
      id = "id0{logical_entity=#Q##Q#}"
      label = "/top"
      subgraph "cluster.|bank" {
         fillcolor = "orange"
         style = "filled,rounded"
         penwidth = 2.5
         fontsize = 50
         tooltip = "|bank"
         id = "id1{logical_entity=#Q#|bank#Q#}"
         label = "|bank"
         subgraph "cluster.stage1" {
            "|bank$Balance@1" [fillcolor = "#ffffffb0", shape = box, label = "$Balance=", id = "id2{logical_entity=#Q#|bank$Balance#Q#}", tooltip = "$Balance[15:0] <= $reset          ? $init_balance :      // set to init_balance at the beginning
                              $action == 1'b0 ? $Balance + $amount : // deposit amount
                                                $Balance - $amount;"];
         }
         subgraph "cluster.stage2" {
            "|bank$Balance@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage3" {
            "|bank$Balance@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage4" {
            "|bank$Balance@4" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage3" {
            "|bank$CycCount@3" [fillcolor = "#ffffffb0", shape = box, label = "$Cyc\n Count=", id = "id14{logical_entity=#Q#|bank$CycCount#Q#}", tooltip = "$CycCount[15:0] <= $reset ? 16'b0 : $CycCount + 16'b1;"];
         }
         subgraph "cluster.stage4" {
            "|bank$CycCount@4" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage1" {
            "|bank$action@1" [fillcolor = "#ffffffb0", shape = box, label = "$action=", id = "id18{logical_entity=#Q#|bank$action#Q#}", tooltip = "$action[0:0] = *RW_rand_vect[(0 + (0)) % 257 +: 1];"];
         }
         subgraph "cluster.stage2" {
            "|bank$action@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage3" {
            "|bank$action@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage1" {
            "|bank$amount@1" [fillcolor = "#ffffffb0", shape = box, label = "$amount=", id = "id21{logical_entity=#Q#|bank$amount#Q#}", tooltip = "$amount[15:0] = {5'b0, $rand_amount};"];
         }
         subgraph "cluster.stage2" {
            "|bank$amount@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage3" {
            "|bank$amount@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage1" {
            "|bank$init_balance@1" [fillcolor = "#ffffffb0", shape = box, label = "$init_\n balance=", id = "id25{logical_entity=#Q#|bank$init_balance#Q#}", tooltip = "$init_balance[15:0] = 16'b1;"];
         }
         subgraph "cluster.stage2" {
            "|bank$init_balance@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage1" {
            "|bank$rand_amount@1" [fillcolor = "#ffffffb0", shape = box, label = "$rand_\n amount=", id = "id27{logical_entity=#Q#|bank$rand_amount#Q#}", tooltip = "$rand_amount[10:0] = *RW_rand_vect[(248 + (0)) % 257 +: 11];"];
         }
         subgraph "cluster.stage0" {
            "|bank$reset@0" [fillcolor = "#ffffffb0", shape = box, label = "$reset=", id = "id28{logical_entity=#Q#|bank$reset#Q#}", tooltip = "$reset = *reset;"];
         }
         subgraph "cluster.stage1" {
            "|bank$reset@1" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage2" {
            "|bank$reset@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage3" {
            "|bank$reset@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage4" {
            "|bank$reset@4" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage1" {
            "|bank$transaction@1" [fillcolor = "#ffffffb0", shape = box, label = "$transaction=", id = "id33{logical_entity=#Q#|bank$transaction#Q#}", tooltip = "$transaction[1:0] = *RW_rand_vect[(124 + (0)) % 257 +: 2];"];
         }
         subgraph "cluster.stage2" {
            "|bank$transaction@2" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage2" {
            "|bank$valid_transaction@2" [fillcolor = "#ffffffb0", shape = box, label = "$valid_\n transaction=", id = "id35{logical_entity=#Q#|bank$valid_transaction#Q#}", tooltip = "$valid_transaction = $transaction != 2'b0;"];
         }
         subgraph "cluster.stage3" {
            "|bank$valid_transaction@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage2" {
            "|bank$valid_transaction_or_reset@2" [fillcolor = "#ffffffb0", shape = box, label = "$valid_\n transaction_\n or_\n reset=", id = "id38{logical_entity=#Q#|bank$valid_transaction_or_reset#Q#}", tooltip = "$valid_transaction_or_reset = ($valid_transaction && !$withdraw_error) || $reset;"];
         }
         subgraph "cluster.stage2" {
            "|bank$withdraw_error@2" [fillcolor = "#ffffffb0", shape = box, label = "$withdraw_\n error=", id = "id42{logical_entity=#Q#|bank$withdraw_error#Q#}", tooltip = "$withdraw_error = $action == 1'b1 && $amount > $Balance ? 1'b1 : // true if withdrawal amount is greater than current balance
                                                                   1'b0;"];
         }
         subgraph "cluster.stage3" {
            "|bank$withdraw_error@3" [label = "", shape = box, fixedsize = true, width = 0.2, height = 0.2, penwidth = 1.0, shape = box, fillcolor = grey];
         }
         subgraph "cluster.stage0" {
            style = "filled"
            fontsize = 20
            penwidth = 1.5
            label = "@0"
            id = "id47{logical_entity=#Q#|bank@0#Q#}"
            tooltip = "|bank@0"
            fillcolor = "#509050"
         }
         subgraph "cluster.stage1" {
            style = "filled"
            fontsize = 20
            penwidth = 1.5
            label = "@1"
            id = "id48{logical_entity=#Q#|bank@2#Q#}"
            tooltip = "|bank@1"
            fillcolor = "darkgreen"
         }
         subgraph "cluster.stage2" {
            style = "filled"
            fontsize = 20
            penwidth = 1.5
            label = "@2"
            id = "id49{logical_entity=#Q#|bank@4#Q#}"
            tooltip = "|bank@2"
            fillcolor = "#509050"
         }
         subgraph "cluster.stage3" {
            style = "filled"
            fontsize = 20
            penwidth = 1.5
            label = "@3"
            id = "id50{logical_entity=#Q#|bank@6#Q#}"
            tooltip = "|bank@3"
            fillcolor = "darkgreen"
         }
         subgraph "cluster.stage4" {
            style = "filled"
            fontsize = 20
            penwidth = 1.5
            label = "@4"
            id = "id51{logical_entity=#Q#|bank@8#Q#}"
            tooltip = "|bank@4"
            fillcolor = "#509050"
         }
      }
      subgraph "cluster.|none" {
         fillcolor = "orange"
         style = "filled,rounded"
         penwidth = 2.5
         fontsize = 50
         tooltip = "|none"
         id = "id52{logical_entity=#Q#|none#Q#}"
         label = "|none"
      }
   }

"*RW_rand_vect" [shape = box, color = "#00008b", fontcolor = "#00008b", fillcolor = white];
"*passed" [shape = box, color = "#00008b", fontcolor = "#00008b", fillcolor = white];
"*reset" [shape = box, color = "#00008b", fontcolor = "#00008b", fillcolor = white];

"|bank$Balance@1" -> "|bank$Balance@2" [id = "id3{logical_entity=#Q#|bank$Balance#Q#}", weight = 10]
"|bank$Balance@2" -> "|bank$Balance@3" [id = "id4{logical_entity=#Q#|bank$Balance#Q#}", weight = 10]
"|bank$Balance@3" -> "|bank$Balance@4" [id = "id5{logical_entity=#Q#|bank$Balance#Q#}", weight = 10]
"|bank$reset@2" -> "|bank$Balance@1" [id = "id6{logical_entity=#Q#|bank$reset#Q#}", weight = 1, tooltip = "|bank$reset"]
"|bank$init_balance@2" -> "|bank$Balance@1" [id = "id7{logical_entity=#Q#|bank$init_balance#Q#}", weight = 1, tooltip = "|bank$init_balance"]
"|bank$action@2" -> "|bank$Balance@1" [id = "id8{logical_entity=#Q#|bank$action#Q#}", weight = 1, tooltip = "|bank$action"]
"|bank$Balance@2" -> "|bank$Balance@1" [id = "id9{logical_entity=#Q#|bank$Balance#Q#}", weight = 1, tooltip = "|bank$Balance"]
"|bank$amount@2" -> "|bank$Balance@1" [id = "id10{logical_entity=#Q#|bank$amount#Q#}", weight = 1, tooltip = "|bank$amount"]
"|bank$Balance@2" -> "|bank$Balance@1" [id = "id11{logical_entity=#Q#|bank$Balance#Q#}", weight = 1, tooltip = "|bank$Balance"]
"|bank$amount@2" -> "|bank$Balance@1" [id = "id12{logical_entity=#Q#|bank$amount#Q#}", weight = 1, tooltip = "|bank$amount"]
"|bank$valid_transaction_or_reset@2" -> "|bank$Balance@1" [id = "id13{logical_entity=#Q#|bank$valid_transaction_or_reset#Q#}", style = dotted, color = "#E04010", arrowhead = empty, tooltip = "|bank$valid_transaction_or_reset"]
"|bank$CycCount@3" -> "|bank$CycCount@4" [id = "id15{logical_entity=#Q#|bank$CycCount#Q#}", weight = 10]
"|bank$reset@4" -> "|bank$CycCount@3" [id = "id16{logical_entity=#Q#|bank$reset#Q#}", weight = 1, tooltip = "|bank$reset"]
"|bank$CycCount@4" -> "|bank$CycCount@3" [id = "id17{logical_entity=#Q#|bank$CycCount#Q#}", weight = 1, tooltip = "|bank$CycCount"]
"|bank$action@1" -> "|bank$action@2" [id = "id19{logical_entity=#Q#|bank$action#Q#}", weight = 10]
"|bank$action@2" -> "|bank$action@3" [id = "id20{logical_entity=#Q#|bank$action#Q#}", weight = 10]
"|bank$amount@1" -> "|bank$amount@2" [id = "id22{logical_entity=#Q#|bank$amount#Q#}", weight = 10]
"|bank$amount@2" -> "|bank$amount@3" [id = "id23{logical_entity=#Q#|bank$amount#Q#}", weight = 10]
"|bank$rand_amount@1" -> "|bank$amount@1" [id = "id24{logical_entity=#Q#|bank$rand_amount#Q#}", weight = 2, tooltip = "|bank$rand_amount"]
"|bank$init_balance@1" -> "|bank$init_balance@2" [id = "id26{logical_entity=#Q#|bank$init_balance#Q#}", weight = 10]
"|bank$reset@0" -> "|bank$reset@1" [id = "id29{logical_entity=#Q#|bank$reset#Q#}", weight = 10]
"|bank$reset@1" -> "|bank$reset@2" [id = "id30{logical_entity=#Q#|bank$reset#Q#}", weight = 10]
"|bank$reset@2" -> "|bank$reset@3" [id = "id31{logical_entity=#Q#|bank$reset#Q#}", weight = 10]
"|bank$reset@3" -> "|bank$reset@4" [id = "id32{logical_entity=#Q#|bank$reset#Q#}", weight = 10]
"|bank$transaction@1" -> "|bank$transaction@2" [id = "id34{logical_entity=#Q#|bank$transaction#Q#}", weight = 10]
"|bank$valid_transaction@2" -> "|bank$valid_transaction@3" [id = "id36{logical_entity=#Q#|bank$valid_transaction#Q#}", weight = 10]
"|bank$transaction@2" -> "|bank$valid_transaction@2" [id = "id37{logical_entity=#Q#|bank$transaction#Q#}", weight = 2, tooltip = "|bank$transaction"]
"|bank$valid_transaction@2" -> "|bank$valid_transaction_or_reset@2" [id = "id39{logical_entity=#Q#|bank$valid_transaction#Q#}", weight = 2, tooltip = "|bank$valid_transaction"]
"|bank$withdraw_error@2" -> "|bank$valid_transaction_or_reset@2" [id = "id40{logical_entity=#Q#|bank$withdraw_error#Q#}", weight = 2, tooltip = "|bank$withdraw_error"]
"|bank$reset@2" -> "|bank$valid_transaction_or_reset@2" [id = "id41{logical_entity=#Q#|bank$reset#Q#}", weight = 2, tooltip = "|bank$reset"]
"|bank$withdraw_error@2" -> "|bank$withdraw_error@3" [id = "id43{logical_entity=#Q#|bank$withdraw_error#Q#}", weight = 10]
"|bank$action@2" -> "|bank$withdraw_error@2" [id = "id44{logical_entity=#Q#|bank$action#Q#}", weight = 2, tooltip = "|bank$action"]
"|bank$amount@2" -> "|bank$withdraw_error@2" [id = "id45{logical_entity=#Q#|bank$amount#Q#}", weight = 2, tooltip = "|bank$amount"]
"|bank$Balance@2" -> "|bank$withdraw_error@2" [id = "id46{logical_entity=#Q#|bank$Balance#Q#}", weight = 2, tooltip = "|bank$Balance"]
}