<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="top.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>top.m4</title>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <script src="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.js"></script>
   <link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.css" />

<style>
/*
Copyright (c) 2015, Steven F. Hoover
All rights reserved.
*/
.tlv_ident_error {
  color: red;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipeline {
  color: orange;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_1 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_2 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_grouping {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_state_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_assigned_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_malformed_assigned_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_phys_hier {
  color: blue;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_phys_beh_hier {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_stage_name {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_next_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_incr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_prev_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_decr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_alignment_expr_1ab {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_expr_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_keyword_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_zero_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_crosspipe_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_tlv_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_misc_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_sv_sig {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_datatype {
  color: DarkRed;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_keyword1 {
  color: Blue;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_comment {
  color: #808080;
  font-style: italic;
  font-weight: 600;
}
.tlv_ident_hdl_code {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}

</style>

</head>

<body>

<h2>top.m4</h2>

<pre>
<span class="line" line-num="1" source-line-num="1"><span class="tlv_ident_keyword1">\TLV_version 1d: tl-x.org</span></span>
<span class="line" line-num="2" source-line-num="2"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="3" source-line-num="3"><span class="tlv_ident_comment">/*</span></span>
<span class="line" line-num="4" source-line-num="4"><span class="tlv_ident_comment">Copyright (c) 2018, Steve Hoover</span></span>
<span class="line" line-num="5" source-line-num="5"><span class="tlv_ident_comment">All rights reserved.</span></span>
<span class="line" line-num="6" source-line-num="6"></span>
<span class="line" line-num="7" source-line-num="7"><span class="tlv_ident_comment">Redistribution and use in source and binary forms, with or without</span></span>
<span class="line" line-num="8" source-line-num="8"><span class="tlv_ident_comment">modification, are permitted provided that the following conditions are met:</span></span>
<span class="line" line-num="9" source-line-num="9"></span>
<span class="line" line-num="10" source-line-num="10"><span class="tlv_ident_comment">* Redistributions of source code must retain the above copyright notice, this</span></span>
<span class="line" line-num="11" source-line-num="11">  <span class="tlv_ident_comment">list of conditions and the following disclaimer.</span></span>
<span class="line" line-num="12" source-line-num="12"></span>
<span class="line" line-num="13" source-line-num="13"><span class="tlv_ident_comment">* Redistributions in binary form must reproduce the above copyright notice,</span></span>
<span class="line" line-num="14" source-line-num="14">  <span class="tlv_ident_comment">this list of conditions and the following disclaimer in the documentation</span></span>
<span class="line" line-num="15" source-line-num="15">  <span class="tlv_ident_comment">and/or other materials provided with the distribution.</span></span>
<span class="line" line-num="16" source-line-num="16"></span>
<span class="line" line-num="17" source-line-num="17"><span class="tlv_ident_comment">* Neither the name of the copyright holder nor the names of its</span></span>
<span class="line" line-num="18" source-line-num="18">  <span class="tlv_ident_comment">contributors may be used to endorse or promote products derived from</span></span>
<span class="line" line-num="19" source-line-num="19">  <span class="tlv_ident_comment">this software without specific prior written permission.</span></span>
<span class="line" line-num="20" source-line-num="20"></span>
<span class="line" line-num="21" source-line-num="21"><span class="tlv_ident_comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></span>
<span class="line" line-num="22" source-line-num="22"><span class="tlv_ident_comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></span>
<span class="line" line-num="23" source-line-num="23"><span class="tlv_ident_comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></span>
<span class="line" line-num="24" source-line-num="24"><span class="tlv_ident_comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></span>
<span class="line" line-num="25" source-line-num="25"><span class="tlv_ident_comment">FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></span>
<span class="line" line-num="26" source-line-num="26"><span class="tlv_ident_comment">DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></span>
<span class="line" line-num="27" source-line-num="27"><span class="tlv_ident_comment">SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></span>
<span class="line" line-num="28" source-line-num="28"><span class="tlv_ident_comment">CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></span>
<span class="line" line-num="29" source-line-num="29"><span class="tlv_ident_comment">OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></span>
<span class="line" line-num="30" source-line-num="30"><span class="tlv_ident_comment">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></span>
<span class="line" line-num="31" source-line-num="31"><span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="32" source-line-num="32"></span>
<span class="line" line-num="33" source-line-num="33"><span class="tlv_ident_comment">// Included URL: &quot;https://raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/fundamentals_lib/fundamentals_lib.tlv&quot;</span></span>
<span class="line" line-num="34" source-line-num="34"><span class="tlv_ident_comment">// Included URL: &quot;https://raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv&quot;</span></span>
<span class="line" line-num="35" source-line-num="35"><span class="tlv_ident_hdl_code">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlv_ident_comment">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlv_ident_hdl_code">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlv_ident_comment">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */</span></span>
<span class="line" line-num="36" source-line-num="36"></span>
<span class="line" line-num="37" source-line-num="37"><span class="tlv_ident_keyword1">\TLV</span></span>
<span class="line" line-num="38" source-line-num="38">   </span>
<span class="line" line-num="39" source-line-num="39">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset;</span></span>
<span class="line" line-num="40" source-line-num="40">   </span>
<span class="line" line-num="41" source-line-num="41">      <span class="tlv_ident_comment">// Defines constants for /port[7:0].</span></span>
<span class="line" line-num="42" source-line-num="42">   </span>
<span class="line" line-num="43" source-line-num="43">   </span>
<span class="line" line-num="44" source-line-num="44">   <span class="tlv_ident_comment">//-------------</span></span>
<span class="line" line-num="45" source-line-num="45">   <span class="tlv_ident_comment">// DUT</span></span>
<span class="line" line-num="46" source-line-num="46">   <span class="tlv_ident_comment">// ------------</span></span>
<span class="line" line-num="47" source-line-num="47">   </span>
<span class="line" line-num="48" source-line-num="48">   <span class="tlv_ident_comment">// DUT Flow (FIFO and ring)</span></span>
<span class="line" line-num="49" source-line-num="49">   <span class="tlv_ident_beh_hier_2" logical_entity="/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">5</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]   </span><span class="tlv_ident_comment">// (becomes /port[7:0])</span></span>
<span class="line" line-num="50" source-line-num="50">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 774   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 50 as: m4+simple_bypass_fifo_v2(/port, |fifo_in, @1, |ring_in, @1, 4, 100, /trans)</span></span>
<span class="line" line-num="51" source-line-num="50">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 775 as: m4+flow_interface(/port, [' |fifo_in, @1'], [' |ring_in, @1'], )</span></span>
<span class="line" line-num="52" source-line-num="50">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/port, [' |fifo_in, @1'], )</span></span>
<span class="line" line-num="53" source-line-num="50">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="54" source-line-num="50">               <span class="tlv_ident_pipeline" logical_entity="/port|fifo_in">|fifo_in</span></span>
<span class="line" line-num="55" source-line-num="50">                  <span class="tlv_ident_stage_expr" logical_entity="/port|fifo_in@2">@1</span></span>
<span class="line" line-num="56" source-line-num="50">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="57" source-line-num="50">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="58" source-line-num="50">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="59" source-line-num="50">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 50 as: m4+flow_inputs(/port, m4_quote(m4_shift(m4_shift( |fifo_in, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="60" source-line-num="50">                  </span>
<span class="line" line-num="61" source-line-num="50">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="62" source-line-num="50">               </span>
<span class="line" line-num="63" source-line-num="50">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="64" source-line-num="50">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/port, [' |ring_in, @1'])</span></span>
<span class="line" line-num="65" source-line-num="50">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="66" source-line-num="50">               <span class="tlv_ident_pipeline" logical_entity="/port|ring_in">|ring_in</span></span>
<span class="line" line-num="67" source-line-num="50">                  <span class="tlv_ident_stage_expr" logical_entity="/port|ring_in@2">@1</span></span>
<span class="line" line-num="68" source-line-num="50">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="69" source-line-num="50">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 50 as: m4+flow_outputs(/port, m4_quote(m4_shift(m4_shift( |ring_in, @1))))</span></span>
<span class="line" line-num="70" source-line-num="50">                  </span>
<span class="line" line-num="71" source-line-num="50">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="72" source-line-num="50">               </span>
<span class="line" line-num="73" source-line-num="50">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="74" source-line-num="50">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="75" source-line-num="50">         <span class="tlv_ident_pipeline" logical_entity="/port|fifo_in">|fifo_in</span></span>
<span class="line" line-num="76" source-line-num="50">            <span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/trans">/trans</span></span>
<span class="line" line-num="77" source-line-num="50">            <span class="tlv_ident_stage_expr" logical_entity="/port|fifo_in@2">@1</span></span>
<span class="line" line-num="78" source-line-num="50">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$out_blocked">$out_blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|ring_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="79" source-line-num="50">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/fifo"tlx_ref="">/fifo</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in/fifo$cnt">$cnt</span> <span class="tlv_ident_hdl_code">&gt;= 8) &amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$out_blocked">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="80" source-line-num="50">               <span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/fifo">/fifo</span></span>
<span class="line" line-num="81" source-line-num="50">                  <span class="tlv_ident_hdl_code">simple_bypass_fifo #(.WIDTH(100), .DEPTH(8))</span></span>
<span class="line" line-num="82" source-line-num="50">                     <span class="tlv_ident_hdl_code">fifo(.clk(clk), .reset(</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">),</span></span>
<span class="line" line-num="83" source-line-num="50">                          <span class="tlv_ident_hdl_code">.push(</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span><span class="tlv_ident_hdl_code">),</span></span>
<span class="line" line-num="84" source-line-num="50">                          <span class="tlv_ident_hdl_code">.data_in(</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/port|fifo_in/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">),</span></span>
<span class="line" line-num="85" source-line-num="50">                          <span class="tlv_ident_hdl_code">.pop(</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span><span class="tlv_ident_hdl_code">),</span></span>
<span class="line" line-num="86" source-line-num="50">                          <span class="tlv_ident_hdl_code">.data_out(</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|ring_in@2">&gt;&gt;0</span><span class="tlv_ident_assigned_sig_keyword" logical_entity="/port|ring_in/trans$ANY">$$ANY</span><span class="tlv_ident_hdl_code">),</span></span>
<span class="line" line-num="87" source-line-num="50">                          <span class="tlv_ident_hdl_code">.cnt(</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in/fifo$cnt">$$cnt</span><span class="tlv_ident_assigned_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2(8)-1</span><span class="tlv_ident_assigned_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_assigned_pipe_sig">]</span><span class="tlv_ident_hdl_code">));</span></span>
<span class="line" line-num="88" source-line-num="50">         <span class="tlv_ident_pipeline" logical_entity="/port|ring_in">|ring_in</span></span>
<span class="line" line-num="89" source-line-num="50">            <span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_in/trans">/trans</span></span>
<span class="line" line-num="90" source-line-num="50">            <span class="tlv_ident_stage_expr" logical_entity="/port|ring_in@2">@1</span></span>
<span class="line" line-num="91" source-line-num="50">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_in$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/fifo"tlx_ref="">/fifo</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in/fifo$cnt">$cnt</span> <span class="tlv_ident_hdl_code">!= '0 || </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="92" source-line-num="50">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_in$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="93" source-line-num="50">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="94" source-line-num="51">   <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 1017   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 51 as: m4+simple_ring(/port, |ring_in, @1, |ring_out, @1, /top&lt;&gt;0$reset, |rg, /trans)</span></span>
<span class="line" line-num="95" source-line-num="51">      </span>
<span class="line" line-num="96" source-line-num="51">      </span>
<span class="line" line-num="97" source-line-num="51">      </span>
<span class="line" line-num="98" source-line-num="51">      </span>
<span class="line" line-num="99" source-line-num="51">      </span>
<span class="line" line-num="100" source-line-num="51">      </span>
<span class="line" line-num="101" source-line-num="51">      <span class="tlv_ident_comment">// Logic</span></span>
<span class="line" line-num="102" source-line-num="51">      <span class="tlv_ident_beh_hier_2" logical_entity="/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="103" source-line-num="51">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1026 as: m4+flow_interface(/port, [' |ring_in, @1'], [' |ring_out, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="104" source-line-num="51">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/port, [' |ring_in, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="105" source-line-num="51">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="106" source-line-num="51">               <span class="tlv_ident_pipeline" logical_entity="/port|ring_in">|ring_in</span></span>
<span class="line" line-num="107" source-line-num="51">                  <span class="tlv_ident_stage_expr" logical_entity="/port|ring_in@2">@1</span></span>
<span class="line" line-num="108" source-line-num="51">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_in$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="109" source-line-num="51">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_in$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">=  </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="110" source-line-num="51">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="111" source-line-num="51">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 51 as: m4+flow_inputs(/port, m4_quote(m4_shift(m4_shift( |ring_in, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="112" source-line-num="51">                  </span>
<span class="line" line-num="113" source-line-num="51">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="114" source-line-num="51">               </span>
<span class="line" line-num="115" source-line-num="51">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="116" source-line-num="51">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/port, [' |ring_out, @1'])</span></span>
<span class="line" line-num="117" source-line-num="51">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="118" source-line-num="51">               <span class="tlv_ident_pipeline" logical_entity="/port|ring_out">|ring_out</span></span>
<span class="line" line-num="119" source-line-num="51">                  <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@2">@1</span></span>
<span class="line" line-num="120" source-line-num="51">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="121" source-line-num="51">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 51 as: m4+flow_outputs(/port, m4_quote(m4_shift(m4_shift( |ring_out, @1))))</span></span>
<span class="line" line-num="122" source-line-num="51">                  </span>
<span class="line" line-num="123" source-line-num="51">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="124" source-line-num="51">               </span>
<span class="line" line-num="125" source-line-num="51">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="126" source-line-num="51">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="127" source-line-num="51">         <span class="tlv_ident_pipeline" logical_entity="/port|default">|default</span></span>
<span class="line" line-num="128" source-line-num="51">            <span class="tlv_ident_stage_expr" logical_entity="/port|default@0">@0</span></span>
<span class="line" line-num="129" source-line-num="51">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="130" source-line-num="51">                  <span class="tlv_ident_hdl_code">int prev_hop = (port + 8 - 1) % 8;</span></span>
<span class="line" line-num="131" source-line-num="51">         <span class="tlv_ident_pipeline" logical_entity="/port|ring_in">|ring_in</span></span>
<span class="line" line-num="132" source-line-num="51">            <span class="tlv_ident_stage_expr" logical_entity="/port|ring_in@2">@1</span></span>
<span class="line" line-num="133" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_in$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|rg@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$passed_on">$passed_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="134" source-line-num="51">         <span class="tlv_ident_pipeline" logical_entity="/port|rg">|rg</span></span>
<span class="line" line-num="135" source-line-num="51">            <span class="tlv_ident_stage_expr" logical_entity="/port|rg@2">@1</span></span>
<span class="line" line-num="136" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|rg$passed_on">$passed_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$pass_on">$pass_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="137" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="138" source-line-num="51">                        <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$passed_on">$passed_on</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$avail">$avail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="139" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|rg$pass_on">$pass_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|ring_out@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$trans_valid">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="140" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|rg$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="141" source-line-num="51">                  <span class="tlv_ident_pipe_sig" logical_entity="/port|rg$passed_on">$passed_on</span></span>
<span class="line" line-num="142" source-line-num="51">                     <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$dest">$dest</span></span>
<span class="line" line-num="143" source-line-num="51">                     <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in/trans$dest">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="144" source-line-num="51">            <span class="tlv_ident_stage_expr" logical_entity="/port|rg@2">@1</span></span>
<span class="line" line-num="145" source-line-num="51">               <span class="tlv_ident_when">?$valid</span></span>
<span class="line" line-num="146" source-line-num="51">                  <span class="tlv_ident_beh_hier_2" logical_entity="/port|rg/trans">/trans</span></span>
<span class="line" line-num="147" source-line-num="51">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/port|rg/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="148" source-line-num="51">                       <span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$passed_on">$passed_on</span></span>
<span class="line" line-num="149" source-line-num="51">                           <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|rg/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/port|rg/trans$ANY">$ANY</span></span>
<span class="line" line-num="150" source-line-num="51">                           <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/port|ring_in/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="151" source-line-num="51">         <span class="tlv_ident_pipeline" logical_entity="/port|ring_out">|ring_out</span></span>
<span class="line" line-num="152" source-line-num="51">            <span class="tlv_ident_comment">// Ring out</span></span>
<span class="line" line-num="153" source-line-num="51">            <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@2">@1</span></span>
<span class="line" line-num="154" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|rg$dest">$dest</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">port);</span></span>
<span class="line" line-num="155" source-line-num="51">               <span class="tlv_ident_comment">//$blocked = 1'b0;</span></span>
<span class="line" line-num="156" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$trans_valid">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// &amp;&amp; ! $blocked;</span></span>
<span class="line" line-num="157" source-line-num="51">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|ring_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="158" source-line-num="51">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="159" source-line-num="51">               <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@2">@1</span></span>
<span class="line" line-num="160" source-line-num="51">                  <span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_out/trans">/trans</span></span>
<span class="line" line-num="161" source-line-num="51">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/port|ring_out/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|rg"tlx_ref="">|rg</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|rg/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|rg@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/port|rg/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="162" source-line-num="51">      </span>
<span class="line" line-num="163" source-line-num="51">      </span>
<span class="line" line-num="164" source-line-num="51">      </span>
<span class="line" line-num="165" source-line-num="51">      </span>
<span class="line" line-num="166" source-line-num="51">      </span>
<span class="line" line-num="167" source-line-num="51">   <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="168" source-line-num="52">   </span>
<span class="line" line-num="169" source-line-num="53">   <span class="tlv_ident_comment">// Transaction logic.</span></span>
<span class="line" line-num="170" source-line-num="54">   <span class="tlv_ident_beh_hier_2" logical_entity="/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="171" source-line-num="55">      <span class="tlv_ident_pipeline" logical_entity="/port|fifo_in">|fifo_in</span></span>
<span class="line" line-num="172" source-line-num="56">         <span class="tlv_ident_stage_expr" logical_entity="/port|fifo_in@2">@1</span></span>
<span class="line" line-num="173" source-line-num="57">            <span class="tlv_ident_when">?$accepted</span></span>
<span class="line" line-num="174" source-line-num="58">               <span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/trans">/trans</span></span>
<span class="line" line-num="175" source-line-num="59">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in/trans$data">$data</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">cyc_cnt[7:0];</span></span>
<span class="line" line-num="176" source-line-num="60">                  <span class="tlv_ident_comment">// Compute parity</span></span>
<span class="line" line-num="177" source-line-num="61">                  <span class="tlv_ident_comment">// [+] $parity = ^ {$data, $dest};</span></span>
<span class="line" line-num="178" source-line-num="62">      </span>
<span class="line" line-num="179" source-line-num="63">      <span class="tlv_ident_pipeline" logical_entity="/port|ring_out">|ring_out</span></span>
<span class="line" line-num="180" source-line-num="64">         <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@4">@2</span></span>
<span class="line" line-num="181" source-line-num="65">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="182" source-line-num="66">               <span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_out/trans">/trans</span></span>
<span class="line" line-num="183" source-line-num="67">                  <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out/trans$data">$data</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="184" source-line-num="68">               </span>
<span class="line" line-num="185" source-line-num="69">                  <span class="tlv_ident_comment">// Check parity.</span></span>
<span class="line" line-num="186" source-line-num="70">                  <span class="tlv_ident_comment">// [+] $parity_error = $parity != ^ {$data, $dest};</span></span>
<span class="line" line-num="187" source-line-num="71"></span>
<span class="line" line-num="188" source-line-num="72">   <span class="tlv_ident_comment">//--------------</span></span>
<span class="line" line-num="189" source-line-num="73">   <span class="tlv_ident_comment">// Testbench</span></span>
<span class="line" line-num="190" source-line-num="74">   <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 1305   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 74 as: m4+router_testbench(/top, /port, |fifo_in, @1, |ring_out, @1, /trans, /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="191" source-line-num="74">        <span class="tlv_ident_comment">// Otherwise we can have a cyclic reset loop through flow.</span></span>
<span class="line" line-num="192" source-line-num="74">      <span class="tlv_ident_beh_hier_2" logical_entity="/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="193" source-line-num="74">         <span class="tlv_ident_comment">// Define flow interface. Note that router ins are tb outs and outs are ins.</span></span>
<span class="line" line-num="194" source-line-num="74">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1309 as: m4+flow_interface(/port, [' |ring_out, @1'], [' |fifo_in, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="195" source-line-num="74">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/port, [' |ring_out, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="196" source-line-num="74">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="197" source-line-num="74">               <span class="tlv_ident_pipeline" logical_entity="/port|ring_out">|ring_out</span></span>
<span class="line" line-num="198" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@2">@1</span></span>
<span class="line" line-num="199" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="200" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">=  </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="201" source-line-num="74">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="202" source-line-num="74">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 74 as: m4+flow_inputs(/port, m4_quote(m4_shift(m4_shift( |ring_out, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="203" source-line-num="74">                  </span>
<span class="line" line-num="204" source-line-num="74">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="205" source-line-num="74">               </span>
<span class="line" line-num="206" source-line-num="74">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="207" source-line-num="74">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/port, [' |fifo_in, @1'])</span></span>
<span class="line" line-num="208" source-line-num="74">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="209" source-line-num="74">               <span class="tlv_ident_pipeline" logical_entity="/port|fifo_in">|fifo_in</span></span>
<span class="line" line-num="210" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/port|fifo_in@2">@1</span></span>
<span class="line" line-num="211" source-line-num="74">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="212" source-line-num="74">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 74 as: m4+flow_outputs(/port, m4_quote(m4_shift(m4_shift( |fifo_in, @1))))</span></span>
<span class="line" line-num="213" source-line-num="74">                  </span>
<span class="line" line-num="214" source-line-num="74">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="215" source-line-num="74">               </span>
<span class="line" line-num="216" source-line-num="74">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="217" source-line-num="74">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="218" source-line-num="74">      </span>
<span class="line" line-num="219" source-line-num="74">      </span>
<span class="line" line-num="220" source-line-num="74">      </span>
<span class="line" line-num="221" source-line-num="74">   </span>
<span class="line" line-num="222" source-line-num="74">      <span class="tlv_ident_beh_hier_2" logical_entity="/tb">/tb</span></span>
<span class="line" line-num="223" source-line-num="74">         <span class="tlv_ident_pipeline" logical_entity="/tb|count">|count</span></span>
<span class="line" line-num="224" source-line-num="74">            <span class="tlv_ident_stage_expr" logical_entity="/tb|count@2">@1</span></span>
<span class="line" line-num="225" source-line-num="74">               <span class="tlv_ident_assigned_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_sv_sig">&lt;</span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset">$reset</span></span>
<span class="line" line-num="226" source-line-num="74">                                     <span class="tlv_ident_hdl_code">? 16'b0 :</span></span>
<span class="line" line-num="227" source-line-num="74">                                       <span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">+ 1;</span></span>
<span class="line" line-num="228" source-line-num="74">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="229" source-line-num="74">                  <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="230" source-line-num="74">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Cycle: %0d&quot;, </span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="231" source-line-num="74">                  <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="232" source-line-num="74">         <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="233" source-line-num="74">            <span class="tlv_ident_comment">// STIMULUS</span></span>
<span class="line" line-num="234" source-line-num="74">            <span class="tlv_ident_pipeline" logical_entity="/tb/port|send">|send</span></span>
<span class="line" line-num="235" source-line-num="74">               <span class="tlv_ident_stage_expr" logical_entity="/tb/port|send@2">@1</span></span>
<span class="line" line-num="236" source-line-num="74">                  <span class="tlv_ident_comment">// Generate a transaction to inject sometimes (if needed)</span></span>
<span class="line" line-num="237" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="238" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send$valid_in">$valid_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb|count@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">== 3;</span></span>
<span class="line" line-num="239" source-line-num="74">                  <span class="tlv_ident_when">?$valid_in</span></span>
<span class="line" line-num="240" source-line-num="74">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|send/gen_trans">/gen_trans</span></span>
<span class="line" line-num="241" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send/gen_trans$cyc_cnt">$cyc_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb|count@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="242" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send/gen_trans$response_debug">$response_debug</span> <span class="tlv_ident_hdl_code">= 1'b0;  </span><span class="tlv_ident_comment">// Not a response (for debug)</span></span>
<span class="line" line-num="243" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send/gen_trans$sender">$sender</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">port;</span></span>
<span class="line" line-num="244" source-line-num="74">                        <span class="tlv_ident_comment">//m4_rand($size, M4_PACKET_SIZE-1, 0, #m4_port) // unused</span></span>
<span class="line" line-num="245" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send/gen_trans$dest_tmp">$dest_tmp</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">RW_rand_vect[(0 + (port)) % 257 +: 2];</span></span>
<span class="line" line-num="246" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send/gen_trans$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send/gen_trans$dest_tmp">$dest_tmp</span> <span class="tlv_ident_hdl_code">% 8;</span></span>
<span class="line" line-num="247" source-line-num="74">                        <span class="tlv_ident_comment">//$dest[M4_['']M4_PORT['']_INDEX_RANGE] = #m4_port;</span></span>
<span class="line" line-num="248" source-line-num="74">                        <span class="tlv_ident_comment">//$packet_valid = #m4_port == 0 ? 1'b1 : 1'b0; // valid for only first port - unused</span></span>
<span class="line" line-num="249" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|send$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send$valid_in">$valid_in</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$valid_request">$valid_request</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="250" source-line-num="74">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="251" source-line-num="74">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|send/trans_out">/trans_out</span></span>
<span class="line" line-num="252" source-line-num="74">                        <span class="tlv_ident_comment">// Loopback requests as responses or use gen_trans.</span></span>
<span class="line" line-num="253" source-line-num="74">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/port|send/trans_out$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$valid_request">$valid_request</span></span>
<span class="line" line-num="254" source-line-num="74">                                    <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/port|receive2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="255" source-line-num="74">                                      <span class="tlv_ident_pipeline" logical_entity="/tb/port|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|send/gen_trans"tlx_ref="">/gen_trans</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/port|send/gen_trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="256" source-line-num="74">                        </span>
<span class="line" line-num="257" source-line-num="74">                        <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="258" source-line-num="74">                           <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="259" source-line-num="74">                              <span class="tlv_ident_hdl_code">if (! </span><span class="tlv_ident_pipeline" logical_entity="/tb/port|send"tlx_ref="">|send</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset &amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|fifo_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span><span class="tlv_ident_hdl_code">) begin</span></span>
<span class="line" line-num="260" source-line-num="74">                                 <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|send[%0d]&quot;, </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">port);</span></span>
<span class="line" line-num="261" source-line-num="74">                                 <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Sender: %0d, Orig. Cyc: %0d, Dest: %0d, Resp: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send/trans_out$sender">$sender</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send/trans_out$cyc_cnt">$cyc_cnt</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send/trans_out$dest">$dest</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send/trans_out$response_debug">$response_debug</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="262" source-line-num="74">                              <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="263" source-line-num="74">                           <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="264" source-line-num="74">            <span class="tlv_ident_comment">// Hook router out to |receive1 and determine transaction response routing (within the transaction).</span></span>
<span class="line" line-num="265" source-line-num="74">            <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1">|receive1</span></span>
<span class="line" line-num="266" source-line-num="74">               <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive1@2">@1</span></span>
<span class="line" line-num="267" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_out@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="268" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_out@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|ring_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="269" source-line-num="74">                  <span class="tlv_ident_when">?$accepted</span></span>
<span class="line" line-num="270" source-line-num="74">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive1/trans">/trans</span></span>
<span class="line" line-num="271" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1/trans$response_debug">$response_debug</span> <span class="tlv_ident_hdl_code">= 1'b1; </span><span class="tlv_ident_comment">// Turn this around as a response.</span></span>
<span class="line" line-num="272" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1/trans$request">$request</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">!= </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">port;  </span><span class="tlv_ident_comment">// Arrived as request?</span></span>
<span class="line" line-num="273" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1/trans$response">$response</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">port; </span><span class="tlv_ident_comment">// Arrived as response?</span></span>
<span class="line" line-num="274" source-line-num="74">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/port|receive1/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_out/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/port|ring_out@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/port|ring_out/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="275" source-line-num="74">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1/trans$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1/trans$request">$request</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1/trans$dest">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="276" source-line-num="74">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 342   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1368 as: m4+bp_stage(/port, |receive1, @1, |receive2, @1, /trans)</span></span>
<span class="line" line-num="277" source-line-num="74">               </span>
<span class="line" line-num="278" source-line-num="74">               </span>
<span class="line" line-num="279" source-line-num="74">               </span>
<span class="line" line-num="280" source-line-num="74">               </span>
<span class="line" line-num="281" source-line-num="74">               </span>
<span class="line" line-num="282" source-line-num="74">               </span>
<span class="line" line-num="283" source-line-num="74">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 349 as: m4+flow_interface(/port, [' |receive1, @1'], [' |receive2, @1'], )</span></span>
<span class="line" line-num="284" source-line-num="74">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/port, [' |receive1, @1'], )</span></span>
<span class="line" line-num="285" source-line-num="74">                     <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="286" source-line-num="74">                     <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1">|receive1</span></span>
<span class="line" line-num="287" source-line-num="74">                        <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive1@2">@1</span></span>
<span class="line" line-num="288" source-line-num="74">                           <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="289" source-line-num="74">                           <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="290" source-line-num="74">                           <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="291" source-line-num="74">                     <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 74 as: m4+flow_inputs(/port, m4_quote(m4_shift(m4_shift( |receive1, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="292" source-line-num="74">                        </span>
<span class="line" line-num="293" source-line-num="74">                     <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="294" source-line-num="74">                     </span>
<span class="line" line-num="295" source-line-num="74">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="296" source-line-num="74">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/port, [' |receive2, @1'])</span></span>
<span class="line" line-num="297" source-line-num="74">                     <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="298" source-line-num="74">                     <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2">|receive2</span></span>
<span class="line" line-num="299" source-line-num="74">                        <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive2@2">@1</span></span>
<span class="line" line-num="300" source-line-num="74">                           <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="301" source-line-num="74">                     <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/develone/sandpiper_test/blob/master/url_test/pipeflow_lib/pipeflow_lib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 74 as: m4+flow_outputs(/port, m4_quote(m4_shift(m4_shift( |receive2, @1))))</span></span>
<span class="line" line-num="302" source-line-num="74">                        </span>
<span class="line" line-num="303" source-line-num="74">                     <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="304" source-line-num="74">                     </span>
<span class="line" line-num="305" source-line-num="74">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="306" source-line-num="74">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="307" source-line-num="74">               <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2">|receive2</span></span>
<span class="line" line-num="308" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive2@0">@0</span></span>
<span class="line" line-num="309" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="310" source-line-num="74">                     </span>
<span class="line" line-num="311" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="312" source-line-num="74">                                       <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">) ||  </span><span class="tlv_ident_comment">// Recirc'ed or</span></span>
<span class="line" line-num="313" source-line-num="74">                                       <span class="tlv_ident_comment">// Above is recomputation of $recirc to avoid a flop.</span></span>
<span class="line" line-num="314" source-line-num="74">                                       <span class="tlv_ident_comment">// For SELF, its in the same stage, and is redundant computation.</span></span>
<span class="line" line-num="315" source-line-num="74">                                       <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// Incoming available</span></span>
<span class="line" line-num="316" source-line-num="74">                     <span class="tlv_ident_comment">//$first_avail = $avail &amp;&amp; ! &gt;&gt;1$blocked;  // Transaction is newly available.</span></span>
<span class="line" line-num="317" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive2@0">@0</span></span>
<span class="line" line-num="318" source-line-num="74">                     <span class="tlv_ident_when">?$avail  </span><span class="tlv_ident_comment">// Physically, $first_avail &amp;&amp; *reset_b for functional gating in</span></span>
<span class="line" line-num="319" source-line-num="74">                              <span class="tlv_ident_comment">// place of recirculation.</span></span>
<span class="line" line-num="320" source-line-num="74">                        <span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive2/trans">/trans</span></span>
<span class="line" line-num="321" source-line-num="74">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/port|receive2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="322" source-line-num="74">                              <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/port|receive2/trans$ANY">$ANY</span></span>
<span class="line" line-num="323" source-line-num="74">                                                   <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive1/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive1@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/port|receive1/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="324" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive2@2">@1</span></span>
<span class="line" line-num="325" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// Available transaction that is blocked; must recirc.</span></span>
<span class="line" line-num="326" source-line-num="74">               <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1">|receive1</span></span>
<span class="line" line-num="327" source-line-num="74">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive1@2">@1</span></span>
<span class="line" line-num="328" source-line-num="74">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$recirc">$recirc</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="329" source-line-num="74">                     <span class="tlv_ident_comment">// This trans is blocked (whether valid or not) if the next stage is recirculating.</span></span>
<span class="line" line-num="330" source-line-num="74">               </span>
<span class="line" line-num="331" source-line-num="74">               </span>
<span class="line" line-num="332" source-line-num="74">               </span>
<span class="line" line-num="333" source-line-num="74">               </span>
<span class="line" line-num="334" source-line-num="74">               </span>
<span class="line" line-num="335" source-line-num="74">               </span>
<span class="line" line-num="336" source-line-num="74">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="337" source-line-num="74">            <span class="tlv_ident_comment">// A one-cycle backpressured stage to avoid 0-cycle loopback.</span></span>
<span class="line" line-num="338" source-line-num="74">            <span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2">|receive2</span></span>
<span class="line" line-num="339" source-line-num="74">               <span class="tlv_ident_stage_expr" logical_entity="/tb/port|receive2@2">@1</span></span>
<span class="line" line-num="340" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$valid_request">$valid_request</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2/trans$request">$request</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="341" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$valid_response">$valid_response</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2/trans$response">$response</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="342" source-line-num="74">                  <span class="tlv_ident_comment">// Block requests that cannot loopback a response .</span></span>
<span class="line" line-num="343" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$valid_request">$valid_request</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="344" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="345" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|receive2$generated_request">$generated_request</span> <span class="tlv_ident_hdl_code">=   </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="346" source-line-num="74">                                       <span class="tlv_ident_hdl_code">! </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/port|fifo_in"tlx_ref="">|fifo_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/port|fifo_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in/trans$response_debug">$response_debug</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="347" source-line-num="74">                  <span class="tlv_ident_assigned_state_sig" logical_entity="/tb/port|receive2$OutstandingPackets">$OutstandingPackets</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">16-1</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_sv_sig">&lt;</span><span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="348" source-line-num="74">                       <span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">? '0 :</span></span>
<span class="line" line-num="349" source-line-num="74">                         <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_state_sig" logical_entity="/tb/port|receive2$OutstandingPackets">$OutstandingPackets</span> <span class="tlv_ident_hdl_code">+</span></span>
<span class="line" line-num="350" source-line-num="74">                          <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$generated_request">$generated_request</span> <span class="tlv_ident_hdl_code">? 16'b1 : '0) -</span></span>
<span class="line" line-num="351" source-line-num="74">                          <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$valid_response">$valid_response</span> <span class="tlv_ident_hdl_code">? 16'b1 : '0)</span></span>
<span class="line" line-num="352" source-line-num="74">                         <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="353" source-line-num="74">            <span class="tlv_ident_pipeline" logical_entity="/tb/port|passed">|passed</span>  <span class="tlv_ident_comment">// Aligned to |receive2, but given a new pipeline name to provide a cleaner interface for this $passed output.</span></span>
<span class="line" line-num="354" source-line-num="74">               <span class="tlv_ident_stage_expr" logical_entity="/tb/port|passed@2">@1</span></span>
<span class="line" line-num="355" source-line-num="74">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/port|passed$passed">$passed</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/port|receive2@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/port|receive2@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb/port|receive2$OutstandingPackets">$OutstandingPackets</span> <span class="tlv_ident_hdl_code">== '0 &amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb|count@2">&gt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">&gt; 12;</span></span>
<span class="line" line-num="356" source-line-num="74">      <span class="tlv_ident_comment">// Connect with DUT.</span></span>
<span class="line" line-num="357" source-line-num="74">      <span class="tlv_ident_beh_hier_2" logical_entity="/port">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="358" source-line-num="74">         <span class="tlv_ident_pipeline" logical_entity="/port|fifo_in">|fifo_in</span></span>
<span class="line" line-num="359" source-line-num="74">            <span class="tlv_ident_stage_expr" logical_entity="/port|fifo_in@2">@1</span></span>
<span class="line" line-num="360" source-line-num="74">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$avail">$avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="/port|fifo_in$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|send"tlx_ref="">|send</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/port|send@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|send$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="361" source-line-num="74">               <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="362" source-line-num="74">                  <span class="tlv_ident_beh_hier_2" logical_entity="/port|fifo_in/trans">/trans</span></span>
<span class="line" line-num="363" source-line-num="74">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/port|fifo_in/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port|send/trans_out"tlx_ref="">/trans_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/port|send@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/port|send/trans_out$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="364" source-line-num="74">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|fifo_in$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="365" source-line-num="74">         <span class="tlv_ident_pipeline" logical_entity="/port|ring_out">|ring_out</span></span>
<span class="line" line-num="366" source-line-num="74">            <span class="tlv_ident_stage_expr" logical_entity="/port|ring_out@2">@1</span></span>
<span class="line" line-num="367" source-line-num="74">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/port|ring_out$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/port|receive1@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|receive1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="368" source-line-num="74">            <span class="tlv_ident_beh_hier_2" logical_entity="/port|ring_out/trans">/trans</span></span>
<span class="line" line-num="369" source-line-num="74">      </span>
<span class="line" line-num="370" source-line-num="74">      </span>
<span class="line" line-num="371" source-line-num="74">   <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="372" source-line-num="75">   </span>
<span class="line" line-num="373" source-line-num="76">   </span>
<span class="line" line-num="374" source-line-num="77">   <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">passed = | </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/port"tlx_ref="">/port</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/tb/port|passed"tlx_ref="">|passed</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/port|passed@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/port|passed$passed">$passed</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="375" source-line-num="78">   <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">failed = </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">cyc_cnt &gt; 20;</span></span>
<span class="line" line-num="376" source-line-num="79">   </span>
<span class="line" line-num="377" source-line-num="80"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="378" source-line-num="81"><span class="tlv_ident_hdl_code">endmodule </span></span>

</pre>

</body>
</html>
