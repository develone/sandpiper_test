<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="top.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>top.m4</title>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <script src="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.js"></script>
   <link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.css" />

<style>
/*
Copyright (c) 2015, Steven F. Hoover
All rights reserved.
*/
.tlv_ident_error {
  color: red;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipeline {
  color: orange;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_1 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_2 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_grouping {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_state_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_assigned_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_malformed_assigned_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_phys_hier {
  color: blue;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_phys_beh_hier {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_stage_name {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_next_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_incr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_prev_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_decr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_alignment_expr_1ab {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_expr_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_keyword_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_zero_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_crosspipe_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_tlv_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_misc_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_sv_sig {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_datatype {
  color: DarkRed;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_keyword1 {
  color: Blue;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_comment {
  color: #808080;
  font-style: italic;
  font-weight: 600;
}
.tlv_ident_hdl_code {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}

</style>

</head>

<body>

<h2>top.m4</h2>

<pre>
<span class="line" line-num="1" source-line-num="1"><span class="tlv_ident_keyword1">\TLV_version 1d: tl-x.org</span></span>
<span class="line" line-num="2" source-line-num="2"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="3" source-line-num="3">   <span class="tlv_ident_comment">// This code can be found in: https://github.com/stevehoover/VSDOpen2020_TLV_RISC-V_Tutorial</span></span>
<span class="line" line-num="4" source-line-num="4">   </span>
<span class="line" line-num="5" source-line-num="5">   <span class="tlv_ident_comment">// Included URL: &quot;https://raw.githubusercontent.com/stevehoover/VSDOpen2020_TLV_RISC-V_Tutorial/da942f09ddf780e5da5ee0466c72a610f07aa73f/lib/shell.tlv&quot;// Included URL: &quot;https://raw.githubusercontent.com/stevehoover/warp-v_includes/2d6d36baa4d2bc62321f982f78c8fe1456641a43/risc-v_defs.tlv&quot;</span></span>
<span class="line" line-num="6" source-line-num="6"></span>
<span class="line" line-num="7" source-line-num="7"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="8" source-line-num="8">   <span class="tlv_ident_hdl_code">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlv_ident_comment">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlv_ident_hdl_code">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlv_ident_comment">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */   // (Expanded in Nav-TLV pane.)</span></span>
<span class="line" line-num="9" source-line-num="9">   <span class="tlv_ident_comment">/* verilator lint_on WIDTH */</span></span>
<span class="line" line-num="10" source-line-num="10"></span>
<span class="line" line-num="11" source-line-num="11"><span class="tlv_ident_keyword1">\TLV</span></span>
<span class="line" line-num="12" source-line-num="12"></span>
<span class="line" line-num="13" source-line-num="13">   <span class="tlv_ident_comment">// /====================\</span></span>
<span class="line" line-num="14" source-line-num="14">   <span class="tlv_ident_comment">// | Sum 1 to 9 Program |</span></span>
<span class="line" line-num="15" source-line-num="15">   <span class="tlv_ident_comment">// \====================/</span></span>
<span class="line" line-num="16" source-line-num="16">   <span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="17" source-line-num="17">   <span class="tlv_ident_comment">// Program for MYTH Workshop to test RV32I</span></span>
<span class="line" line-num="18" source-line-num="18">   <span class="tlv_ident_comment">// Add 1,2,3,...,9 (in that order).</span></span>
<span class="line" line-num="19" source-line-num="19">   <span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="20" source-line-num="20">   <span class="tlv_ident_comment">// Regs:</span></span>
<span class="line" line-num="21" source-line-num="21">   <span class="tlv_ident_comment">//  r10 (a0): In: 0, Out: final sum</span></span>
<span class="line" line-num="22" source-line-num="22">   <span class="tlv_ident_comment">//  r12 (a2): 10</span></span>
<span class="line" line-num="23" source-line-num="23">   <span class="tlv_ident_comment">//  r13 (a3): 1..10</span></span>
<span class="line" line-num="24" source-line-num="24">   <span class="tlv_ident_comment">//  r14 (a4): Sum</span></span>
<span class="line" line-num="25" source-line-num="25">   <span class="tlv_ident_comment">// </span></span>
<span class="line" line-num="26" source-line-num="26">   <span class="tlv_ident_comment">// External to function:</span></span>
<span class="line" line-num="27" source-line-num="27">   <span class="tlv_ident_comment">// Inst #0: ADD,r10,r0,r0             // Initialize x10 to 0.</span></span>
<span class="line" line-num="28" source-line-num="28">   <span class="tlv_ident_comment">// Function:</span></span>
<span class="line" line-num="29" source-line-num="29">   <span class="tlv_ident_comment">// Inst #1: ADD,r14,r10,r0            // Initialize sum register x14 with 0x0</span></span>
<span class="line" line-num="30" source-line-num="30">   <span class="tlv_ident_comment">// Inst #2: ADDI,r12,r10,1010         // Store count of 10 in register x12.</span></span>
<span class="line" line-num="31" source-line-num="31">   <span class="tlv_ident_comment">// Inst #3: ADD,r13,r10,r0            // Initialize intermediate sum register x13 with 0</span></span>
<span class="line" line-num="32" source-line-num="32">   <span class="tlv_ident_comment">// Loop:</span></span>
<span class="line" line-num="33" source-line-num="33">   <span class="tlv_ident_comment">// Inst #4: ADD,r14,r13,r14           // Incremental addition</span></span>
<span class="line" line-num="34" source-line-num="34">   <span class="tlv_ident_comment">// Inst #5: ADDI,r13,r13,1            // Increment intermediate register by 1</span></span>
<span class="line" line-num="35" source-line-num="35">   <span class="tlv_ident_comment">// Inst #6: BLT,r13,r12,1111111111000 // If x13 is less than x12, branch to &lt;loop&gt;</span></span>
<span class="line" line-num="36" source-line-num="36">   <span class="tlv_ident_comment">// Inst #7: ADD,r10,r14,r0            // Store final result to register x10 so that it can be read by main program</span></span>
<span class="line" line-num="37" source-line-num="37">   </span>
<span class="line" line-num="38" source-line-num="38">   </span>
<span class="line" line-num="39" source-line-num="39">   <span class="tlv_ident_comment">//m4_define(['TBD'], [''0'])</span></span>
<span class="line" line-num="40" source-line-num="40">   <span class="tlv_ident_comment">//m4_define(['TBDX'], [''])</span></span>
<span class="line" line-num="41" source-line-num="41">   </span>
<span class="line" line-num="42" source-line-num="42">   </span>
<span class="line" line-num="43" source-line-num="43">   </span>
<span class="line" line-num="44" source-line-num="44">   <span class="tlv_ident_pipeline" logical_entity="|view">|view</span></span>
<span class="line" line-num="45" source-line-num="45">      <span class="tlv_ident_stage_expr" logical_entity="|view@0">@0</span></span>
<span class="line" line-num="46" source-line-num="46">         <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="|view$pc">$pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="47" source-line-num="47">   <span class="tlv_ident_comment">// Lab: PC</span></span>
<span class="line" line-num="48" source-line-num="48">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$pc">$pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span>        <span class="tlv_ident_hdl_code">? 32'0 :</span></span>
<span class="line" line-num="49" source-line-num="49">               <span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="$taken_branch">$taken_branch</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="$br_target_pc">$br_target_pc</span> <span class="tlv_ident_hdl_code">:    </span><span class="tlv_ident_comment">// (initially $taken_branch == 0)</span></span>
<span class="line" line-num="50" source-line-num="50">                                  <span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="$pc">$pc</span> <span class="tlv_ident_hdl_code">+ 32'b100;</span></span>
<span class="line" line-num="51" source-line-num="51">   </span>
<span class="line" line-num="52" source-line-num="52">   </span>
<span class="line" line-num="53" source-line-num="53">   <span class="tlv_ident_comment">// Lab: Fetch</span></span>
<span class="line" line-num="54" source-line-num="54">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$imem_rd_addr">$imem_rd_addr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$pc">$pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="55" source-line-num="55">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$imem_rd_data">$imem_rd_data</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="56" source-line-num="56">   </span>
<span class="line" line-num="57" source-line-num="57">   </span>
<span class="line" line-num="58" source-line-num="58">   <span class="tlv_ident_comment">// Lab: Instruction Types Decode</span></span>
<span class="line" line-num="59" source-line-num="59">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_i_instr">$is_i_instr</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">5</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">== 2'b00;</span></span>
<span class="line" line-num="60" source-line-num="60">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_r_instr">$is_r_instr</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">5</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">== 2'b01 || </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">5</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">== 2'b10;</span></span>
<span class="line" line-num="61" source-line-num="61">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_b_instr">$is_b_instr</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">5</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">== 2'b11;</span></span>
<span class="line" line-num="62" source-line-num="62">   </span>
<span class="line" line-num="63" source-line-num="63">   </span>
<span class="line" line-num="64" source-line-num="64">   <span class="tlv_ident_comment">// Lab: Instruction Immediate Decode</span></span>
<span class="line" line-num="65" source-line-num="65">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$imm">$imm</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]  </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_i_instr">$is_i_instr</span> <span class="tlv_ident_hdl_code">? { {21{</span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">}}, </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">30</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">20</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">} :   </span><span class="tlv_ident_comment">// I-type</span></span>
<span class="line" line-num="66" source-line-num="66">                 <span class="tlv_ident_pipe_sig" logical_entity="$is_b_instr">$is_b_instr</span> <span class="tlv_ident_hdl_code">? { {20{</span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">}},</span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">,</span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">30</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">25</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">,</span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">11</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">8</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">,1'b0 } :    </span><span class="tlv_ident_comment">// B-type</span></span>
<span class="line" line-num="67" source-line-num="67">                 <span class="tlv_ident_hdl_code">32'b0;   </span><span class="tlv_ident_comment">// Default (unused)</span></span>
<span class="line" line-num="68" source-line-num="68">   </span>
<span class="line" line-num="69" source-line-num="69">   </span>
<span class="line" line-num="70" source-line-num="70">   <span class="tlv_ident_comment">// Lab: Instruction Field Decode</span></span>
<span class="line" line-num="71" source-line-num="71">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rs2">$rs2</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]    </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">24</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">20</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="72" source-line-num="72">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rs1">$rs1</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]    </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">19</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="73" source-line-num="73">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$funct3">$funct3</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">14</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">12</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="74" source-line-num="74">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rd">$rd</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]     </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">11</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="75" source-line-num="75">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$opcode">$opcode</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">6</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="76" source-line-num="76">   </span>
<span class="line" line-num="77" source-line-num="77">   </span>
<span class="line" line-num="78" source-line-num="78">   <span class="tlv_ident_comment">// Lab: Register Validity Decode</span></span>
<span class="line" line-num="79" source-line-num="79">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rs1_valid">$rs1_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_r_instr">$is_r_instr</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_pipe_sig" logical_entity="$is_i_instr">$is_i_instr</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_pipe_sig" logical_entity="$is_b_instr">$is_b_instr</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="80" source-line-num="80">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rs2_valid">$rs2_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_r_instr">$is_r_instr</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_pipe_sig" logical_entity="$is_b_instr">$is_b_instr</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="81" source-line-num="81">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rd_valid">$rd_valid</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_r_instr">$is_r_instr</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_pipe_sig" logical_entity="$is_i_instr">$is_i_instr</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="82" source-line-num="82">   </span>
<span class="line" line-num="83" source-line-num="83">   </span>
<span class="line" line-num="84" source-line-num="84">   <span class="tlv_ident_comment">// Lab: Instruction Decode</span></span>
<span class="line" line-num="85" source-line-num="85">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$dec_bits">$dec_bits</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">9</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= {</span><span class="tlv_ident_pipe_sig" logical_entity="$funct3">$funct3</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="$opcode">$opcode</span><span class="tlv_ident_hdl_code">};</span></span>
<span class="line" line-num="86" source-line-num="86">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_blt">$is_blt</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$dec_bits">$dec_bits</span> <span class="tlv_ident_hdl_code">== 10'b100_1100011;</span></span>
<span class="line" line-num="87" source-line-num="87">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_addi">$is_addi</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$dec_bits">$dec_bits</span> <span class="tlv_ident_hdl_code">== 10'b000_0010011;</span></span>
<span class="line" line-num="88" source-line-num="88">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$is_add">$is_add</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$dec_bits">$dec_bits</span> <span class="tlv_ident_hdl_code">== 10'b000_0110011;</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>


   <span class="tlx_except" sev="warning" title="Signal $rf_rd_en1 is assigned but never used.
To silence this message use &quot;`BOGUS_USE($rf_rd_en1)&quot;.">          </span></span></span><span class="line" line-num="89" source-line-num="89">   </span>
<span class="line" line-num="90" source-line-num="90">   </span>
<span class="line" line-num="91" source-line-num="91">   <span class="tlv_ident_comment">// Lab: Register File Read</span></span>
<span class="line" line-num="92" source-line-num="92">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_en1">$rf_rd_en1</span>         <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rs1_valid">$rs1_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>   <span class="tlx_except" sev="warning" title="Signal $rf_rd_en2 is assigned but never used.
To silence this message use &quot;`BOGUS_USE($rf_rd_en2)&quot;.">          </span></span></span><span class="line" line-num="93" source-line-num="93">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_en2">$rf_rd_en2</span>         <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rs2_valid">$rs2_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="94" source-line-num="94">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_index1">$rf_rd_index1</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rs1">$rs1</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="95" source-line-num="95">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_index2">$rf_rd_index2</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rs2">$rs2</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="96" source-line-num="96">   </span>
<span class="line" line-num="97" source-line-num="97">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$src1_value">$src1_value</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_data1">$rf_rd_data1</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="98" source-line-num="98">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$src2_value">$src2_value</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_data2">$rf_rd_data2</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="99" source-line-num="99">   </span>
<span class="line" line-num="100" source-line-num="100">   </span>
<span class="line" line-num="101" source-line-num="101">   <span class="tlv_ident_comment">// Lab: ALU</span></span>
<span class="line" line-num="102" source-line-num="102">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$result">$result</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_addi">$is_addi</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="$src1_value">$src1_value</span> <span class="tlv_ident_hdl_code">+ </span><span class="tlv_ident_pipe_sig" logical_entity="$imm">$imm</span> <span class="tlv_ident_hdl_code">:    </span><span class="tlv_ident_comment">// ADDI: src1 + imm</span></span>
<span class="line" line-num="103" source-line-num="103">                   <span class="tlv_ident_pipe_sig" logical_entity="$is_add">$is_add</span>  <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="$src1_value">$src1_value</span> <span class="tlv_ident_hdl_code">+ </span><span class="tlv_ident_pipe_sig" logical_entity="$src2_value">$src2_value</span> <span class="tlv_ident_hdl_code">:   </span><span class="tlv_ident_comment">// ADD: src1 + src2</span></span>
<span class="line" line-num="104" source-line-num="104">                              <span class="tlv_ident_hdl_code">32'b0;   </span><span class="tlv_ident_comment">// Default (unused)</span></span>
<span class="line" line-num="105" source-line-num="105">   </span>
<span class="line" line-num="106" source-line-num="106">   </span>
<span class="line" line-num="107" source-line-num="107">   <span class="tlv_ident_comment">// Lab: Register File Write</span></span>
<span class="line" line-num="108" source-line-num="108">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_wr_en">$rf_wr_en</span>         <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rd_valid">$rd_valid</span> <span class="tlv_ident_comment">/* &amp;&amp; $rd != 5'b0 */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="109" source-line-num="109">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_wr_index">$rf_wr_index</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$rd">$rd</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="110" source-line-num="110">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_wr_data">$rf_wr_data</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$result">$result</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="111" source-line-num="111">   </span>
<span class="line" line-num="112" source-line-num="112">   </span>
<span class="line" line-num="113" source-line-num="113">   <span class="tlv_ident_comment">// Lab: Branch Condition</span></span>
<span class="line" line-num="114" source-line-num="114">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$taken_branch">$taken_branch</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$is_blt">$is_blt</span> <span class="tlv_ident_hdl_code">?  (</span><span class="tlv_ident_pipe_sig" logical_entity="$src1_value">$src1_value</span> <span class="tlv_ident_hdl_code">&lt; </span><span class="tlv_ident_pipe_sig" logical_entity="$src2_value">$src2_value</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">/* ^ ($src1_value[31] != $src2_value[31]) */  </span><span class="tlv_ident_hdl_code">: 1'b0;</span></span>
<span class="line" line-num="115" source-line-num="115">   </span>
<span class="line" line-num="116" source-line-num="116">   </span>
<span class="line" line-num="117" source-line-num="117">   <span class="tlv_ident_comment">// Lab: Branch Target</span></span>
<span class="line" line-num="118" source-line-num="118">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$br_target_pc">$br_target_pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="$pc">$pc</span> <span class="tlv_ident_hdl_code">+ </span><span class="tlv_ident_pipe_sig" logical_entity="$imm">$imm</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="119" source-line-num="119">   <span class="tlv_ident_comment">// $taken_branch and $br_target_pc control the PC mux.</span></span>
<span class="line" line-num="120" source-line-num="120">   </span>
<span class="line" line-num="121" source-line-num="121">   </span>
<span class="line" line-num="122" source-line-num="122">   </span>
<span class="line" line-num="123" source-line-num="123">   <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/VSDOpen2020TLVRISCVTutorial/da942f09ddf780e5da5ee0466c72a610f07aa73f/lib/shell.tlv 16   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 123 as: m4+shell()</span></span>
<span class="line" line-num="124" source-line-num="123">      <span class="tlv_ident_comment">// =======================================================================================================</span></span>
<span class="line" line-num="125" source-line-num="123">      <span class="tlv_ident_comment">// THIS CODE IS PROVIDED. NO NEED TO LOOK BEHIND THE CURTAIN. LEARN MORE USING THE MAKERCHIP TUTORIALS.</span></span>
<span class="line" line-num="126" source-line-num="123">      </span>
<span class="line" line-num="127" source-line-num="123">      </span>
<span class="line" line-num="128" source-line-num="123">      </span>
<span class="line" line-num="129" source-line-num="123">      </span>
<span class="line" line-num="130" source-line-num="123">      <span class="tlv_ident_assigned_pipe_sig" logical_entity="$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset;</span></span>
<span class="line" line-num="131" source-line-num="123">      </span>
<span class="line" line-num="132" source-line-num="123">      <span class="tlv_ident_comment">// Instruction Memory containing program defined by m4_asm(...) instantiations.</span></span>
<span class="line" line-num="133" source-line-num="123">      <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="134" source-line-num="123">         <span class="tlv_ident_comment">// The program in an instruction memory.</span></span>
<span class="line" line-num="135" source-line-num="123">         <span class="tlv_ident_hdl_code">logic [31:0] instrs [0:8-1];</span></span>
<span class="line" line-num="136" source-line-num="123">         <span class="tlv_ident_hdl_code">assign instrs = '{</span></span>
<span class="line" line-num="137" source-line-num="123">            <span class="tlv_ident_hdl_code">{7'b0000000, 5'd0, 5'd0, 3'b000, 5'd10, 7'b0110011}, {7'b0000000, 5'd0, 5'd10, 3'b000, 5'd14, 7'b0110011}, {12'b1010, 5'd10, 3'b000, 5'd12, 7'b0010011}, {7'b0000000, 5'd0, 5'd10, 3'b000, 5'd13, 7'b0110011}, {7'b0000000, 5'd14, 5'd13, 3'b000, 5'd14, 7'b0110011}, {12'b1, 5'd13, 3'b000, 5'd13, 7'b0010011}, {1'b1, 6'b111111, 5'd12, 5'd13, 3'b100, 4'b1100, 1'b1, 7'b1100011}, {7'b0000000, 5'd0, 5'd14, 3'b000, 5'd10, 7'b0110011}</span></span>
<span class="line" line-num="138" source-line-num="123">         <span class="tlv_ident_hdl_code">};</span></span>
<span class="line" line-num="139" source-line-num="123">      <span class="tlv_ident_beh_hier_2" logical_entity="/imem">/imem</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="140" source-line-num="123">         <span class="tlv_ident_assigned_pipe_sig" logical_entity="/imem$instr">$instr</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">instrs</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">[</span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">imem</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">];</span></span>
<span class="line" line-num="141" source-line-num="123">      <span class="tlv_ident_assigned_pipe_sig" logical_entity="$imem_rd_data">$imem_rd_data</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/imem"tlx_ref="">/imem</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_pipe_sig" logical_entity="$imem_rd_addr">$imem_rd_addr</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="/imem$instr">$instr</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="142" source-line-num="123">      <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="$imem_rd_data">$imem_rd_data</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="143" source-line-num="123">      </span>
<span class="line" line-num="144" source-line-num="123">      <span class="tlv_ident_comment">// Reg File</span></span>
<span class="line" line-num="145" source-line-num="123">      <span class="tlv_ident_beh_hier_2" logical_entity="/xreg">/xreg</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="146" source-line-num="123">         <span class="tlv_ident_assigned_pipe_sig" logical_entity="/xreg$wr">$wr</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_wr_en">$rf_wr_en</span> <span class="tlv_ident_hdl_code">&amp;&amp; (</span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_wr_index">$rf_wr_index</span> <span class="tlv_ident_hdl_code">!= 5'b0) &amp;&amp; (</span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_wr_index">$rf_wr_index</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">xreg);</span></span>
<span class="line" line-num="147" source-line-num="123">         <span class="tlv_ident_assigned_pipe_sig" logical_entity="/xreg$value">$value</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span> <span class="tlv_ident_hdl_code">? 32'b0           :</span></span>
<span class="line" line-num="148" source-line-num="123">                        <span class="tlv_ident_pipe_sig" logical_entity="/xreg$wr">$wr</span>        <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_wr_data">$rf_wr_data</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="149" source-line-num="123">                                     <span class="tlv_ident_sig_keyword" logical_entity="/xreg$value">$RETAIN</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="150" source-line-num="123">      <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_data1">$rf_rd_data1</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/xreg"tlx_ref="">/xreg</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_index1">$rf_rd_index1</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/xreg$value">$value</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="151" source-line-num="123">      <span class="tlv_ident_assigned_pipe_sig" logical_entity="$rf_rd_data2">$rf_rd_data2</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">31</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/xreg"tlx_ref="">/xreg</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_index2">$rf_rd_index2</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/xreg$value">$value</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="152" source-line-num="123">      <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_data1">$rf_rd_data1</span> <span class="tlv_ident_pipe_sig" logical_entity="$rf_rd_data2">$rf_rd_data2</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="153" source-line-num="123">      </span>
<span class="line" line-num="154" source-line-num="123">      <span class="tlv_ident_comment">// Assert these to end simulation (before Makerchip cycle limit).</span></span>
<span class="line" line-num="155" source-line-num="123">      <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">passed = </span><span class="tlv_ident_beh_hier_2" logical_entity="/xreg"tlx_ref="">/xreg</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">10</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="|none@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/xreg$value">$value</span> <span class="tlv_ident_hdl_code">== (1+2+3+4+5+6+7+8+9);</span></span>
<span class="line" line-num="156" source-line-num="123">      <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">failed = </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">cyc_cnt &gt; 50;</span></span>
<span class="line" line-num="157" source-line-num="123">      </span>
<span class="line" line-num="158" source-line-num="123">      </span>
<span class="line" line-num="159" source-line-num="123">      <span class="tlv_ident_pipeline" logical_entity="|view">|view</span></span>
<span class="line" line-num="160" source-line-num="123">         <span class="tlv_ident_stage_expr" logical_entity="|view@0">@0</span></span>
<span class="line" line-num="161" source-line-num="123">            <span class="tlv_ident_comment">// String representations of the instructions for debug.</span></span>
<span class="line" line-num="162" source-line-num="123">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="163" source-line-num="123">               <span class="tlv_ident_hdl_code">logic [40*8-1:0] instr_strs [0:8];</span></span>
<span class="line" line-num="164" source-line-num="123">               <span class="tlv_ident_hdl_code">assign instr_strs = '{ &quot;(R) ADD r10,r0,r0                       &quot;,  &quot;(R) ADD r14,r10,r0                      &quot;,  &quot;(I) ADDI r12,r10,1010                   &quot;,  &quot;(R) ADD r13,r10,r0                      &quot;,  &quot;(R) ADD r14,r13,r14                     &quot;,  &quot;(I) ADDI r13,r13,1                      &quot;,  &quot;(B) BLT r13,r12,1111111111000           &quot;,  &quot;(R) ADD r10,r14,r0                      &quot;,  &quot;END                                     &quot;};</span></span>
<span class="line" line-num="165" source-line-num="123">            <span class="tlv_ident_assigned_sig_keyword" logical_entity="|view$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@0">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="166" source-line-num="123">            <span class="tlv_ident_beh_hier_2" logical_entity="|view/imem">/imem</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">7</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>               <span class="tlx_except" sev="gen_error" title="Wildcarded assignment with no signals pulled through it.  This is not yet supported."> </span></span></span><span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>                      <span class="tlx_except" sev="gen_error" title="Wildcarded assignment with no signals pulled through it.  This is not yet supported."> </span></span></span><span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>               <span class="tlx_except" sev="gen_error" title="Wildcarded assignment with no signals pulled through it.  This is not yet supported."> </span></span></span><span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>                      <span class="tlx_except" sev="gen_error" title="Wildcarded assignment with no signals pulled through it.  This is not yet supported."> </span></span></span><span class="line" line-num="167" source-line-num="123">               <span class="tlv_ident_assigned_sig_keyword" logical_entity="|view/imem$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/imem"tlx_ref="">/imem</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@0">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/imem$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>               <span class="tlx_except" sev="warning" title="Signal |view/imem$instr_str is assigned but never used.
To silence this message use &quot;`BOGUS_USE($instr_str)&quot;.">                    </span></span></span><span class="line" line-num="168" source-line-num="123">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="|view/imem$instr_str">$instr_str</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">40*8-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">instr_strs[imem];</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>
            <span class="tlx_except" sev="warning" title="Signal |view$mnemonic is assigned but never used.
To silence this message use &quot;`BOGUS_USE($mnemonic)&quot;.">                   </span></span></span><span class="line" line-num="169" source-line-num="123">   </span>
<span class="line" line-num="170" source-line-num="123">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|view$mnemonic">$mnemonic</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">10*8-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="|view$is_blt">$is_blt</span>  <span class="tlv_ident_hdl_code">? &quot;BLT       &quot; :</span></span>
<span class="line" line-num="171" source-line-num="123">                                  <span class="tlv_ident_pipe_sig" logical_entity="|view$is_addi">$is_addi</span> <span class="tlv_ident_hdl_code">? &quot;ADDI      &quot; :</span></span>
<span class="line" line-num="172" source-line-num="123">                                  <span class="tlv_ident_pipe_sig" logical_entity="|view$is_add">$is_add</span>  <span class="tlv_ident_hdl_code">? &quot;ADD       &quot; :  &quot;UNKNOWN   &quot;;</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>            <span class="tlx_except" sev="warning" title="Signal |view$valid is assigned but never used.
To silence this message use &quot;`BOGUS_USE($valid)&quot;.">      </span></span></span><span class="line" line-num="173" source-line-num="123">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|view$valid">$valid</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="|view$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="174" source-line-num="123">            <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="|view$pc">$pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">4</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">)  </span><span class="tlv_ident_comment">// Bug workaround to pull lower bits.</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>            <span class="tlx_except" sev="warning" title="Signal |view$fetch_instr_str is assigned but never used.
To silence this message use &quot;`BOGUS_USE($fetch_instr_str)&quot;.">                          </span></span></span><span class="line" line-num="175" source-line-num="123">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="|view$fetch_instr_str">$fetch_instr_str</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">40*8-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">instr_strs</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">[</span><span class="tlv_ident_pipe_sig" logical_entity="|view$pc">$pc</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2(8+1)+1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">];</span></span>
<span class="tlx_except_node_anchor no-select"><span class=tlx_except_container>    <span class="tlx_except" sev="syntax_error" title="Indentation is 4 spaces, which is not a multiple of 3.  Interpretting as 3 spaces."> </span></span></span><span class="line" line-num="176" source-line-num="123">    <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="177" source-line-num="124"></span>
<span class="line" line-num="178" source-line-num="125"></span>
<span class="line" line-num="179" source-line-num="126"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="180" source-line-num="127">   <span class="tlv_ident_hdl_code">endmodule</span></span>

</pre>

</body>
</html>
