<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="index.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>top.m4 -> top.sv & top_gen.sv</title>

   <link rel="stylesheet" href="tlx.css" />
<!--Load styles for stats page-->
<link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/stats.css" />
<!--Load the AJAX API-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/stats.js"></script>
<script type="text/javascript">

  function getTitle() {
    return "top.m4 -> top.sv & top_gen.sv";
  }

  function chartData() {
    return [
      ['File(s)', 'Unknown', 'Untouched', 'Logic', 'Declarations', 'Staging', 'Structure', 'Validity', 'Gating', '(Instrumentation)', { role: 'style' }, '(Comments)', { role: 'style' }, '(Whitespace)', { role: 'style' }],
      ['top.m4', 0, 286, 385, 0, 20, 39, 0, 0, 0, 'opacity: 0.1', 585, 'opacity: 0.1', 482, 'opacity: 0.1'],
      ['top.sv', 0, 286, 563, 0, 0, 70, 0, 0, 0, 'opacity: 0.1', 742, 'opacity: 0.1', 500, 'opacity: 0.1'],
      ['top_gen.sv', 0, 0, 0, 501, 441, 53, 0, 0, 1133, 'opacity: 0.1', 1193, 'opacity: 0.1', 851, 'opacity: 0.1'],
      ['SV Total', 0, 286, 563, 501, 441, 123, 0, 0, 1133, 'opacity: 0.1', 1935, 'opacity: 0.1', 1351, 'opacity: 0.1']
    ];
  }

  function chartColors() {
    return ['DarkGray', '#305050', 'purple', 'blue', '#509050', '#1090c0', '#E04010', 'orange', '#C0C0F0', '#C04040', 'gray'];
  };
</script>
</head>

<body>

    <div id="four_square">
        <div id="chart_div" class="cell left top"></div>
        <div id="gen_div" class="cell code right top">
<h2>top_gen.sv</h2>

<pre>
<span class="tlx_comments">// Generated by SandPiper(TM) 1.9-2018/02/11-beta from Redwood EDA.
// (Installed here: /home/devel/SandPiper_1.9-2018_02_11-beta_distro.)
// Redwood EDA does not claim intellectual property rights to this file and provides no warranty regarding its correctness or quality.


</span><span class="tlx_structure">`include &quot;sandpiper_gen.vh&quot;





</span><span class="tlx_comments">//
// Signals declared top-level.
//

// For $reset.
</span><span class="tlx_declarations">logic L0_reset_a0;

</span><span class="tlx_comments">// For |rx$i_data.
</span><span class="tlx_declarations">logic [7:0] RX_i_data_a0;

</span><span class="tlx_comments">// For |rx$i_uart_rx.
</span><span class="tlx_declarations">logic RX_i_uart_rx_a0;

</span><span class="tlx_comments">// For |rx$lcl_data.
</span><span class="tlx_declarations">logic RX_lcl_data_a0;

</span><span class="tlx_comments">// For |tx$lcl_data.
</span><span class="tlx_declarations">logic [7:0] TX_lcl_data_a0;
logic [7:2] TX_lcl_data_a1,
            TX_lcl_data_a2;
logic [7:3] TX_lcl_data_a3;
logic [7:4] TX_lcl_data_a4;
logic [7:5] TX_lcl_data_a5;
logic [7:6] TX_lcl_data_a6;
logic [7:7] TX_lcl_data_a7;

</span><span class="tlx_comments">// For |tx$o_data.
</span><span class="tlx_declarations">logic [7:0] TX_o_data_a0;

</span><span class="tlx_comments">// For |tx$o_uart_tx.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a0;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a0.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a0_a1;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a1.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a1_a2;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a2.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a2_a3;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a3.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a3_a4;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a4.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a4_a5;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a5.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a5_a6;

</span><span class="tlx_comments">// For |tx$o_uart_tx_a6.
</span><span class="tlx_declarations">logic TX_o_uart_tx_a6_a7;

</span><span class="tlx_comments">// For |tx$r_busy.
</span><span class="tlx_declarations">logic TX_r_busy_a0;


</span><span class="tlx_structure">
generate
</span><span class="tlx_comments">

   //
   // Scope: |tx
   //

      // For $lcl_data.
      </span><span class="tlx_staging">always_ff @(posedge clk) TX_lcl_data_a1[7:2] &lt;= TX_lcl_data_a0[7:2];
      always_ff @(posedge clk) TX_lcl_data_a2[7:2] &lt;= TX_lcl_data_a1[7:2];
      always_ff @(posedge clk) TX_lcl_data_a3[7:3] &lt;= TX_lcl_data_a2[7:3];
      always_ff @(posedge clk) TX_lcl_data_a4[7:4] &lt;= TX_lcl_data_a3[7:4];
      always_ff @(posedge clk) TX_lcl_data_a5[7:5] &lt;= TX_lcl_data_a4[7:5];
      always_ff @(posedge clk) TX_lcl_data_a6[7:6] &lt;= TX_lcl_data_a5[7:6];
      always_ff @(posedge clk) TX_lcl_data_a7[7:7] &lt;= TX_lcl_data_a6[7:7];

      </span><span class="tlx_comments">// For signal $o_uart_tx_a0, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a0_a1 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a1, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a1_a2 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a2, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a2_a3 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a3, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a3_a4 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a4, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a4_a5 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a5, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a5_a6 = 'x;

      </span><span class="tlx_comments">// For signal $o_uart_tx_a6, which had no assignment.
      </span><span class="tlx_instrumentation">assign TX_o_uart_tx_a6_a7 = 'x;




</span><span class="tlx_structure">endgenerate




</span><span class="tlx_comments">//
// Debug Signals
//

</span><span class="tlx_instrumentation">generate

   if (1) begin : DEBUG_SIGS

      logic  \@0$reset ;
      assign \@0$reset = L0_reset_a0;

      </span><span class="tlx_comments">//
      // Scope: |rx
      //
      </span><span class="tlx_instrumentation">if (1) begin : \|rx 
         logic [7:0] \@0$i_data ;
         assign \@0$i_data = RX_i_data_a0;
         logic  \@0$i_uart_rx ;
         assign \@0$i_uart_rx = RX_i_uart_rx_a0;
         logic  \@0$lcl_data ;
         assign \@0$lcl_data = RX_lcl_data_a0;
      end

      </span><span class="tlx_comments">//
      // Scope: |tx
      //
      </span><span class="tlx_instrumentation">if (1) begin : \|tx 
         logic [7:0] \@0$lcl_data ;
         assign \@0$lcl_data = TX_lcl_data_a0;
         logic [7:0] \@0$o_data ;
         assign \@0$o_data = TX_o_data_a0;
         logic  \@0$o_uart_tx ;
         assign \@0$o_uart_tx = TX_o_uart_tx_a0;
         logic  \@1$o_uart_tx_a0 ;
         assign \@1$o_uart_tx_a0 = TX_o_uart_tx_a0_a1;
         logic  \@2$o_uart_tx_a1 ;
         assign \@2$o_uart_tx_a1 = TX_o_uart_tx_a1_a2;
         logic  \@3$o_uart_tx_a2 ;
         assign \@3$o_uart_tx_a2 = TX_o_uart_tx_a2_a3;
         logic  \@4$o_uart_tx_a3 ;
         assign \@4$o_uart_tx_a3 = TX_o_uart_tx_a3_a4;
         logic  \@5$o_uart_tx_a4 ;
         assign \@5$o_uart_tx_a4 = TX_o_uart_tx_a4_a5;
         logic  \@6$o_uart_tx_a5 ;
         assign \@6$o_uart_tx_a5 = TX_o_uart_tx_a5_a6;
         logic  \@7$o_uart_tx_a6 ;
         assign \@7$o_uart_tx_a6 = TX_o_uart_tx_a6_a7;
         logic  \@0$r_busy ;
         assign \@0$r_busy = TX_r_busy_a0;
      end


   end

endgenerate




</span><span class="tlx_structure">generate   </span><span class="tlx_comments">// This is awkward, but we need to go into 'generate' context in the line that `includes the declarations file.
</span>
</pre>
        </div>
        <div id="tlx_div" class="cell code left bottom">
<h2>top.m4</h2>

<pre>
<span class="tlx_structure">\TLV_version 1d: tl-x.org
\SV

   </span><span class="tlx_comments">// =========================================
   // Welcome!  Try the tutorials via the menu.
   // =========================================

   // Default Makerchip TL-Verilog Code Template
   
   // Macro providing required top-level module definition, random
   // stimulus support, and Verilator config.
   </span><span class="tlx_untouched">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlx_comments">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlx_untouched">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlx_comments">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */   // (Expanded in Nav-TLV pane.)
</span><span class="tlx_structure">\TLV
   </span><span class="tlx_logic">$reset = *reset;
   </span><span class="tlx_structure">|tx
      </span><span class="tlx_staging">@0
         </span><span class="tlx_logic">$o_uart_tx = *o_uart_tx;
         $o_data[7:0] = *o_data;
         $r_busy = *r_busy;
         $lcl_data[7:0] = *lcl_data;
        
         
      </span><span class="tlx_staging">@1
         </span><span class="tlx_comments">//?!$r_busy_a0 
            //$lcl_data[1:1] = 1`b1 : $r_busy_a0;
         </span><span class="tlx_logic">$o_uart_tx_a0;
      </span><span class="tlx_staging">@2
         </span><span class="tlx_logic">$lcl_data[2];
         $o_uart_tx_a1;
      </span><span class="tlx_staging">@3
         </span><span class="tlx_logic">$lcl_data[3];
         $o_uart_tx_a2;
      </span><span class="tlx_staging">@4
         </span><span class="tlx_logic">$lcl_data[4];
         $o_uart_tx_a3;
      </span><span class="tlx_staging">@5
         </span><span class="tlx_logic">$lcl_data[5];
         $o_uart_tx_a4;
      </span><span class="tlx_staging">@6
         </span><span class="tlx_logic">$lcl_data[6];
         $o_uart_tx_a5;
      </span><span class="tlx_staging">@7
         </span><span class="tlx_logic">$lcl_data[7];
         $o_uart_tx_a6;
      </span><span class="tlx_staging">@8
         </span><span class="tlx_logic">$lcl_data[0:0] = 1`b1;

   </span><span class="tlx_structure">|rx
      </span><span class="tlx_staging">@0
         </span><span class="tlx_logic">$i_uart_rx = *i_uart_rx;
         $lcl_data = 1`b0;
         $i_data[7:0] = *i_data;
         
   

   </span><span class="tlx_comments">//...

   // Assert these to end simulation (before Makerchip cycle limit).
   </span><span class="tlx_logic">*passed = *cyc_cnt &gt; 40;
   *failed = 1'b0;
</span><span class="tlx_structure">\SV
   </span><span class="tlx_untouched">endmodule
</span>
</pre>
        </div>
        <div id="trans_div" class="cell code right bottom">
<h2>top.sv</h2>

<pre>
<span class="tlx_structure">`line 2 &quot;top.tlv&quot; 0 </span><span class="tlx_comments">//_\TLV_version 1d: tl-x.org, generated by SandPiper(TM) 1.9-2018/02/11-beta
</span><span class="tlx_structure">`include &quot;sp_default.vh&quot; </span><span class="tlx_comments">//_\SV

   // =========================================
   // Welcome!  Try the tutorials via the menu.
   // =========================================

   // Default Makerchip TL-Verilog Code Template
   
   // Macro providing required top-level module definition, random
   // stimulus support, and Verilator config.
   </span><span class="tlx_untouched">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlx_comments">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlx_untouched">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlx_comments">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */   // (Expanded in Nav-TLV pane.)
</span><span class="tlx_structure">`include &quot;top_gen.sv&quot; </span><span class="tlx_comments">//_\TLV
   </span><span class="tlx_logic">assign L0_reset_a0 = reset;
   </span><span class="tlx_comments">//_|tx
      //_@0
         </span><span class="tlx_logic">assign TX_o_uart_tx_a0 = o_uart_tx;
         assign TX_o_data_a0[7:0] = o_data;
         assign TX_r_busy_a0 = r_busy;
         assign TX_lcl_data_a0[7:0] = lcl_data;
        
         
      </span><span class="tlx_comments">//_@1
         //?!$r_busy_a0 
            //$lcl_data[1:1] = 1`b1 : $r_busy_a0;
         </span><span class="tlx_logic">TX_o_uart_tx_a0_a1;
      </span><span class="tlx_comments">//_@2
         </span><span class="tlx_logic">TX_lcl_data_a2[2:2];
         TX_o_uart_tx_a1_a2;
      </span><span class="tlx_comments">//_@3
         </span><span class="tlx_logic">TX_lcl_data_a3[3:3];
         TX_o_uart_tx_a2_a3;
      </span><span class="tlx_comments">//_@4
         </span><span class="tlx_logic">TX_lcl_data_a4[4:4];
         TX_o_uart_tx_a3_a4;
      </span><span class="tlx_comments">//_@5
         </span><span class="tlx_logic">TX_lcl_data_a5[5:5];
         TX_o_uart_tx_a4_a5;
      </span><span class="tlx_comments">//_@6
         </span><span class="tlx_logic">TX_lcl_data_a6[6:6];
         TX_o_uart_tx_a5_a6;
      </span><span class="tlx_comments">//_@7
         </span><span class="tlx_logic">TX_lcl_data_a7[7:7];
         TX_o_uart_tx_a6_a7;
      </span><span class="tlx_comments">//_@8
         </span><span class="tlx_logic">assign TX_lcl_data_a8[0:0] = 1`b1;

   </span><span class="tlx_comments">//_|rx
      //_@0
         </span><span class="tlx_logic">assign RX_i_uart_rx_a0 = i_uart_rx;
         assign RX_lcl_data_a0 = 1`b0;
         assign RX_i_data_a0[7:0] = i_data;
         
   

   </span><span class="tlx_comments">//...

   // Assert these to end simulation (before Makerchip cycle limit).
   </span><span class="tlx_logic">assign passed = cyc_cnt &gt; 40;
   assign failed = 1'b0; </span><span class="tlx_structure">endgenerate
</span><span class="tlx_comments">//_\SV
   </span><span class="tlx_untouched">endmodule
</span>
</pre>
        </div>
    </div>
    <canvas id="overlay" width="280" height="200">
    </canvas>
    <svg id="sp_svg" x="429" y="430" width="112" height="40">
      <rect id="sp_rect" x="2" y="2" width="108" height="36" rx="10" ry="10" />
      <text id="sp_text" x="7" y="25" textLength="98">SandPiper</text>
    </svg>

</body>
</html>
