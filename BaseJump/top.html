<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <meta http-equiv="description" content="top.html">
   <meta http-equiv="keywords" content="tl-verilog">

   <title>top.m4</title>

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
   <script src="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.js"></script>
   <link rel="stylesheet" href="http://www.rweda.com/lib/sp_1.9-2018_02_11-beta/ide.css" />

<style>
/*
Copyright (c) 2015, Steven F. Hoover
All rights reserved.
*/
.tlv_ident_error {
  color: red;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipeline {
  color: orange;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_1 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_beh_hier_2 {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_grouping {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_state_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_assigned_pipe_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_state_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_assigned_sig_keyword {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_malformed_sig {
  color: purple;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_malformed_assigned_sig {
  color: purple;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_when {
  color: #E04010;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_phys_hier {
  color: blue;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_phys_beh_hier {
  color: #1090c0;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_stage_name {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_next_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_incr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_prev_operator {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_stage_decr_expr {
  color: #509050;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_alignment_expr_1ab {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_expr_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_keyword_1c {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_zero_expr {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_crosspipe_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_ahead_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_alignment_behind_name {
  color: #00D000;
  font-style: normal;
  font-weight: 600;
}
.tlv_ident_tlv_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_misc_rtl_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_proj_attribute {
  color: #503890;
  font-style: italic;
  font-weight: normal;
}
.tlv_ident_sv_sig {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_sv_datatype {
  color: DarkRed;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_keyword1 {
  color: Blue;
  font-style: normal;
  font-weight: normal;
}
.tlv_ident_comment {
  color: #808080;
  font-style: italic;
  font-weight: 600;
}
.tlv_ident_hdl_code {
  color: #00008b;
  font-style: normal;
  font-weight: normal;
}

</style>

</head>

<body>

<h2>top.m4</h2>

<pre>
<span class="line" line-num="1" source-line-num="1"><span class="tlv_ident_keyword1">\TLV_version 1d: tl-x.org</span></span>
<span class="line" line-num="2" source-line-num="2"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="3" source-line-num="3"><span class="tlv_ident_comment">/*</span></span>
<span class="line" line-num="4" source-line-num="4"><span class="tlv_ident_comment">Copyright (c) 2018, Steve Hoover</span></span>
<span class="line" line-num="5" source-line-num="5"><span class="tlv_ident_comment">All rights reserved.</span></span>
<span class="line" line-num="6" source-line-num="6"></span>
<span class="line" line-num="7" source-line-num="7"><span class="tlv_ident_comment">Redistribution and use in source and binary forms, with or without</span></span>
<span class="line" line-num="8" source-line-num="8"><span class="tlv_ident_comment">modification, are permitted provided that the following conditions are met:</span></span>
<span class="line" line-num="9" source-line-num="9"></span>
<span class="line" line-num="10" source-line-num="10"><span class="tlv_ident_comment">* Redistributions of source code must retain the above copyright notice, this</span></span>
<span class="line" line-num="11" source-line-num="11">  <span class="tlv_ident_comment">list of conditions and the following disclaimer.</span></span>
<span class="line" line-num="12" source-line-num="12"></span>
<span class="line" line-num="13" source-line-num="13"><span class="tlv_ident_comment">* Redistributions in binary form must reproduce the above copyright notice,</span></span>
<span class="line" line-num="14" source-line-num="14">  <span class="tlv_ident_comment">this list of conditions and the following disclaimer in the documentation</span></span>
<span class="line" line-num="15" source-line-num="15">  <span class="tlv_ident_comment">and/or other materials provided with the distribution.</span></span>
<span class="line" line-num="16" source-line-num="16"></span>
<span class="line" line-num="17" source-line-num="17"><span class="tlv_ident_comment">* Neither the name of the copyright holder nor the names of its</span></span>
<span class="line" line-num="18" source-line-num="18">  <span class="tlv_ident_comment">contributors may be used to endorse or promote products derived from</span></span>
<span class="line" line-num="19" source-line-num="19">  <span class="tlv_ident_comment">this software without specific prior written permission.</span></span>
<span class="line" line-num="20" source-line-num="20"></span>
<span class="line" line-num="21" source-line-num="21"><span class="tlv_ident_comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></span>
<span class="line" line-num="22" source-line-num="22"><span class="tlv_ident_comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></span>
<span class="line" line-num="23" source-line-num="23"><span class="tlv_ident_comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></span>
<span class="line" line-num="24" source-line-num="24"><span class="tlv_ident_comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></span>
<span class="line" line-num="25" source-line-num="25"><span class="tlv_ident_comment">FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></span>
<span class="line" line-num="26" source-line-num="26"><span class="tlv_ident_comment">DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></span>
<span class="line" line-num="27" source-line-num="27"><span class="tlv_ident_comment">SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></span>
<span class="line" line-num="28" source-line-num="28"><span class="tlv_ident_comment">CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></span>
<span class="line" line-num="29" source-line-num="29"><span class="tlv_ident_comment">OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></span>
<span class="line" line-num="30" source-line-num="30"><span class="tlv_ident_comment">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></span>
<span class="line" line-num="31" source-line-num="31"><span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="32" source-line-num="32"></span>
<span class="line" line-num="33" source-line-num="33"><span class="tlv_ident_comment">// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span>
<span class="line" line-num="34" source-line-num="34"><span class="tlv_ident_comment">//m4_include_url(['http://localhost:8080/wip/viz.tlv'])</span></span>
<span class="line" line-num="35" source-line-num="35"><span class="tlv_ident_comment">// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!</span></span>
<span class="line" line-num="36" source-line-num="36"></span>
<span class="line" line-num="37" source-line-num="37"><span class="tlv_ident_comment">// Included URL: &quot;https://raw.githubusercontent.com/stevehoover/tlv_flow_lib/5a8c0387be80b2deccfcd1506299b36049e0663e/fundamentals_lib.tlv&quot;</span></span>
<span class="line" line-num="38" source-line-num="38"><span class="tlv_ident_comment">// Included URL: &quot;https://raw.githubusercontent.com/stevehoover/tlv_flow_lib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflow_lib.tlv&quot;</span></span>
<span class="line" line-num="39" source-line-num="39"></span>
<span class="line" line-num="40" source-line-num="40"><span class="tlv_ident_comment">// Include BaseJump STL FIFO files.</span></span>
<span class="line" line-num="41" source-line-num="41"><span class="tlv_ident_comment">/* verilator lint_off CMPCONST */</span></span>
<span class="line" line-num="42" source-line-num="42"><span class="tlv_ident_comment">/* verilator lint_off WIDTH */</span></span>
<span class="line" line-num="43" source-line-num="43"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_defines.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_misc/bsg_defines.v&quot;</span></span>
<span class="line" line-num="44" source-line-num="44"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_fifo_tracker.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_dataflow/bsg_fifo_tracker.v&quot;</span></span>
<span class="line" line-num="45" source-line-num="45"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_circular_ptr.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_misc/bsg_circular_ptr.v&quot;</span></span>
<span class="line" line-num="46" source-line-num="46"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_fifo_1r1w_small.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_dataflow/bsg_fifo_1r1w_small.v&quot;</span></span>
<span class="line" line-num="47" source-line-num="47"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_mem_1r1w.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_mem/bsg_mem_1r1w.v&quot;</span></span>
<span class="line" line-num="48" source-line-num="48"><span class="tlv_ident_hdl_code">`include &quot;./sv_url_inc/bsg_mem_1r1w_synth.v&quot;  </span><span class="tlv_ident_comment">// From: &quot;https://bitbucket.org/taylor-bsg/bsg_ip_cores/raw/0c76d71f1e06cf844f767448e4df376b112b831f/bsg_mem/bsg_mem_1r1w_synth.v&quot;</span></span>
<span class="line" line-num="49" source-line-num="49"><span class="tlv_ident_comment">/* verilator lint_on WIDTH */</span></span>
<span class="line" line-num="50" source-line-num="50"><span class="tlv_ident_comment">/* verilator lint_on CMPCONST */</span></span>
<span class="line" line-num="51" source-line-num="51"></span>
<span class="line" line-num="52" source-line-num="52"></span>
<span class="line" line-num="53" source-line-num="53"><span class="tlv_ident_hdl_code">module top(input logic clk, input logic reset, input logic [31:0] cyc_cnt, output logic passed, output logic failed);    </span><span class="tlv_ident_comment">/* verilator lint_save */ /* verilator lint_off UNOPTFLAT */  </span><span class="tlv_ident_hdl_code">bit [256:0] RW_rand_raw; bit [256+63:0] RW_rand_vect; pseudo_rand #(.WIDTH(257)) pseudo_rand (clk, reset, RW_rand_raw[256:0]); assign RW_rand_vect[256+63:0] = {RW_rand_raw[62:0], RW_rand_raw};  </span><span class="tlv_ident_comment">/* verilator lint_restore */  /* verilator lint_off WIDTH */ /* verilator lint_off UNOPTFLAT */</span></span>
<span class="line" line-num="54" source-line-num="54"></span>
<span class="line" line-num="55" source-line-num="55"></span>
<span class="line" line-num="56" source-line-num="56"></span>
<span class="line" line-num="57" source-line-num="57"><span class="tlv_ident_keyword1">\TLV</span></span>
<span class="line" line-num="58" source-line-num="58">   <span class="tlv_ident_assigned_pipe_sig" logical_entity="$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset;</span></span>
<span class="line" line-num="59" source-line-num="59">   </span>
<span class="line" line-num="60" source-line-num="60">   </span>
<span class="line" line-num="61" source-line-num="61">   <span class="tlv_ident_comment">// DUT</span></span>
<span class="line" line-num="62" source-line-num="62">   </span>
<span class="line" line-num="63" source-line-num="63">   <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="64" source-line-num="64">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 511   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+stall_pipeline(/ring_stop, |stall, 0, 3, /trans)</span></span>
<span class="line" line-num="65" source-line-num="64">         </span>
<span class="line" line-num="66" source-line-num="64">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 464   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+stall_stage(/ring_stop, |stall['']m4_stage, @1, |stall['']m4_eval(m4_stage + 1), @1, /trans, )</span></span>
<span class="line" line-num="67" source-line-num="64">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 465 as: m4+flow_interface(/ring_stop, [' |stall0, @1'], [' |stall1, @1'], )</span></span>
<span class="line" line-num="68" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |stall0, @1'], )</span></span>
<span class="line" line-num="69" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="70" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0">|stall0</span></span>
<span class="line" line-num="71" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall0@2">@1</span></span>
<span class="line" line-num="72" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall0$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="73" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall0$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="74" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="75" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall0, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="76" source-line-num="64">                     </span>
<span class="line" line-num="77" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="78" source-line-num="64">                  </span>
<span class="line" line-num="79" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="80" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |stall1, @1'])</span></span>
<span class="line" line-num="81" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="82" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1">|stall1</span></span>
<span class="line" line-num="83" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall1@2">@1</span></span>
<span class="line" line-num="84" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="85" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall1, @1))))</span></span>
<span class="line" line-num="86" source-line-num="64">                     </span>
<span class="line" line-num="87" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="88" source-line-num="64">                  </span>
<span class="line" line-num="89" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="90" source-line-num="64">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="91" source-line-num="64">            </span>
<span class="line" line-num="92" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0">|stall0</span></span>
<span class="line" line-num="93" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall0@2">@1</span></span>
<span class="line" line-num="94" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall0$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="95" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1">|stall1</span></span>
<span class="line" line-num="96" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall1@2">@1</span></span>
<span class="line" line-num="97" source-line-num="64">                  <span class="tlv_ident_comment">// Propagate $reset to next stage with no delay (may create timing pressure,</span></span>
<span class="line" line-num="98" source-line-num="64">                  <span class="tlv_ident_comment">//   but similar to reverse path for $blocked).</span></span>
<span class="line" line-num="99" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall1$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="100" source-line-num="64">                  </span>
<span class="line" line-num="101" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall1$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$reset">$reset</span>      <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="102" source-line-num="64">                           <span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$avail">$avail</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="103" source-line-num="64">                                         <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="104" source-line-num="64">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="105" source-line-num="64">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall1/trans">/trans</span></span>
<span class="line" line-num="106" source-line-num="64">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|stall1/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall1/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall0/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall0/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="107" source-line-num="64">            </span>
<span class="line" line-num="108" source-line-num="64">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="109" source-line-num="64">         </span>
<span class="line" line-num="110" source-line-num="64">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 464   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+stall_stage(/ring_stop, |stall['']m4_stage, @1, |stall['']m4_eval(m4_stage + 1), @1, /trans, )</span></span>
<span class="line" line-num="111" source-line-num="64">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 465 as: m4+flow_interface(/ring_stop, [' |stall1, @1'], [' |stall2, @1'], )</span></span>
<span class="line" line-num="112" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |stall1, @1'], )</span></span>
<span class="line" line-num="113" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="114" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1">|stall1</span></span>
<span class="line" line-num="115" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall1@2">@1</span></span>
<span class="line" line-num="116" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall1$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="117" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall1$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="118" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="119" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall1, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="120" source-line-num="64">                     </span>
<span class="line" line-num="121" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="122" source-line-num="64">                  </span>
<span class="line" line-num="123" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="124" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |stall2, @1'])</span></span>
<span class="line" line-num="125" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="126" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2">|stall2</span></span>
<span class="line" line-num="127" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall2@2">@1</span></span>
<span class="line" line-num="128" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="129" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall2, @1))))</span></span>
<span class="line" line-num="130" source-line-num="64">                     </span>
<span class="line" line-num="131" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="132" source-line-num="64">                  </span>
<span class="line" line-num="133" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="134" source-line-num="64">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="135" source-line-num="64">            </span>
<span class="line" line-num="136" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1">|stall1</span></span>
<span class="line" line-num="137" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall1@2">@1</span></span>
<span class="line" line-num="138" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="139" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2">|stall2</span></span>
<span class="line" line-num="140" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall2@2">@1</span></span>
<span class="line" line-num="141" source-line-num="64">                  <span class="tlv_ident_comment">// Propagate $reset to next stage with no delay (may create timing pressure,</span></span>
<span class="line" line-num="142" source-line-num="64">                  <span class="tlv_ident_comment">//   but similar to reverse path for $blocked).</span></span>
<span class="line" line-num="143" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall2$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="144" source-line-num="64">                  </span>
<span class="line" line-num="145" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall2$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$reset">$reset</span>      <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="146" source-line-num="64">                           <span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$avail">$avail</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="147" source-line-num="64">                                         <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall1$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="148" source-line-num="64">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="149" source-line-num="64">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall2/trans">/trans</span></span>
<span class="line" line-num="150" source-line-num="64">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|stall2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall1"tlx_ref="">|stall1</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall1/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall1@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall1/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="151" source-line-num="64">            </span>
<span class="line" line-num="152" source-line-num="64">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="153" source-line-num="64">         </span>
<span class="line" line-num="154" source-line-num="64">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 464   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+stall_stage(/ring_stop, |stall['']m4_stage, @1, |stall['']m4_eval(m4_stage + 1), @1, /trans, )</span></span>
<span class="line" line-num="155" source-line-num="64">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 465 as: m4+flow_interface(/ring_stop, [' |stall2, @1'], [' |stall3, @1'], )</span></span>
<span class="line" line-num="156" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |stall2, @1'], )</span></span>
<span class="line" line-num="157" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="158" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2">|stall2</span></span>
<span class="line" line-num="159" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall2@2">@1</span></span>
<span class="line" line-num="160" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="161" source-line-num="64">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall2$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="162" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="163" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall2, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="164" source-line-num="64">                     </span>
<span class="line" line-num="165" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="166" source-line-num="64">                  </span>
<span class="line" line-num="167" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="168" source-line-num="64">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |stall3, @1'])</span></span>
<span class="line" line-num="169" source-line-num="64">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="170" source-line-num="64">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="171" source-line-num="64">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@2">@1</span></span>
<span class="line" line-num="172" source-line-num="64">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="173" source-line-num="64">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 64 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall3, @1))))</span></span>
<span class="line" line-num="174" source-line-num="64">                     </span>
<span class="line" line-num="175" source-line-num="64">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="176" source-line-num="64">                  </span>
<span class="line" line-num="177" source-line-num="64">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="178" source-line-num="64">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="179" source-line-num="64">            </span>
<span class="line" line-num="180" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2">|stall2</span></span>
<span class="line" line-num="181" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall2@2">@1</span></span>
<span class="line" line-num="182" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="183" source-line-num="64">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="184" source-line-num="64">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@2">@1</span></span>
<span class="line" line-num="185" source-line-num="64">                  <span class="tlv_ident_comment">// Propagate $reset to next stage with no delay (may create timing pressure,</span></span>
<span class="line" line-num="186" source-line-num="64">                  <span class="tlv_ident_comment">//   but similar to reverse path for $blocked).</span></span>
<span class="line" line-num="187" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="188" source-line-num="64">                  </span>
<span class="line" line-num="189" source-line-num="64">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span>      <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="190" source-line-num="64">                           <span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$avail">$avail</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="191" source-line-num="64">                                         <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall2$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="192" source-line-num="64">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="193" source-line-num="64">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/trans">/trans</span></span>
<span class="line" line-num="194" source-line-num="64">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|stall3/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall3/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall2"tlx_ref="">|stall2</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall2/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall2@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall2/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="195" source-line-num="64">            </span>
<span class="line" line-num="196" source-line-num="64">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="197" source-line-num="64">         </span>
<span class="line" line-num="198" source-line-num="64">         <span class="tlv_ident_comment">//</span></span>
<span class="line" line-num="199" source-line-num="64">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="200" source-line-num="65">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 575   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 65 as: m4+flop_fifo_v2(/ring_stop, |stall3, @1, |bp0, @1, 4, /trans)</span></span>
<span class="line" line-num="201" source-line-num="65">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 576 as: m4+flow_interface(/ring_stop, [' |stall3, @1'], [' |bp0, @1'], )</span></span>
<span class="line" line-num="202" source-line-num="65">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |stall3, @1'], )</span></span>
<span class="line" line-num="203" source-line-num="65">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="204" source-line-num="65">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="205" source-line-num="65">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@2">@1</span></span>
<span class="line" line-num="206" source-line-num="65">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="207" source-line-num="65">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="208" source-line-num="65">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="209" source-line-num="65">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 65 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall3, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="210" source-line-num="65">                  </span>
<span class="line" line-num="211" source-line-num="65">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="212" source-line-num="65">               </span>
<span class="line" line-num="213" source-line-num="65">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="214" source-line-num="65">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |bp0, @1'])</span></span>
<span class="line" line-num="215" source-line-num="65">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="216" source-line-num="65">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="217" source-line-num="65">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp0@2">@1</span></span>
<span class="line" line-num="218" source-line-num="65">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="219" source-line-num="65">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 65 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp0, @1))))</span></span>
<span class="line" line-num="220" source-line-num="65">                  </span>
<span class="line" line-num="221" source-line-num="65">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="222" source-line-num="65">               </span>
<span class="line" line-num="223" source-line-num="65">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="224" source-line-num="65">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="225" source-line-num="65">         </span>
<span class="line" line-num="226" source-line-num="65">         </span>
<span class="line" line-num="227" source-line-num="65">         </span>
<span class="line" line-num="228" source-line-num="65">         </span>
<span class="line" line-num="229" source-line-num="65">         </span>
<span class="line" line-num="230" source-line-num="65">         <span class="tlv_ident_comment">//   @0</span></span>
<span class="line" line-num="231" source-line-num="65">         <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="232" source-line-num="65">            <span class="tlv_ident_hdl_code">localparam bit [</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1:0] full_mark_25 = 4 - 0;</span></span>
<span class="line" line-num="233" source-line-num="65">         <span class="tlv_ident_comment">// FIFO Instantiation</span></span>
<span class="line" line-num="234" source-line-num="65">         <span class="tlv_ident_comment">// Hierarchy declarations</span></span>
<span class="line" line-num="235" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="236" source-line-num="65">            <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="237" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="238" source-line-num="65">            <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="239" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="240" source-line-num="65">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@2">@1</span></span>
<span class="line" line-num="241" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$out_blocked">$out_blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="242" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$full">$full</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$out_blocked">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="243" source-line-num="65">               <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$blocked">$blocked</span><span class="tlv_ident_hdl_code">)   </span><span class="tlv_ident_comment">// Not required to be consumed elsewhere.</span></span>
<span class="line" line-num="244" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$would_bypass">$would_bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$empty">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="245" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$bypass">$bypass</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$would_bypass">$would_bypass</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$out_blocked">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="246" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$push">$push</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$bypass">$bypass</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="247" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$grow">$grow</span>   <span class="tlv_ident_hdl_code">=   </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp;   </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$out_blocked">$out_blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="248" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$shrink">$shrink</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$out_blocked">$out_blocked</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$empty">$empty</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="249" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span> <span class="tlv_ident_hdl_code">? '0</span></span>
<span class="line" line-num="250" source-line-num="65">                                                           <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span> <span class="tlv_ident_hdl_code">+ (</span></span>
<span class="line" line-num="251" source-line-num="65">                                                                <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$grow">$grow</span>   <span class="tlv_ident_hdl_code">? { {(</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="252" source-line-num="65">                                                                <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$shrink">$shrink</span> <span class="tlv_ident_hdl_code">? '1</span></span>
<span class="line" line-num="253" source-line-num="65">                                                                        <span class="tlv_ident_hdl_code">: '0</span></span>
<span class="line" line-num="254" source-line-num="65">                                                             <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="255" source-line-num="65">               <span class="tlv_ident_comment">// At least 2 valid entries.</span></span>
<span class="line" line-num="256" source-line-num="65">               <span class="tlv_ident_comment">//$two_valid = | $ValidCount[m4_counter_width-1:1];</span></span>
<span class="line" line-num="257" source-line-num="65">               <span class="tlv_ident_comment">// but logic depth minimized by taking advantage of prev count &gt;= 4.</span></span>
<span class="line" line-num="258" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">= | </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$clog2((4)+1)-1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">|| | </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">2</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="259" source-line-num="65">               <span class="tlv_ident_comment">// These are an optimization of the commented block below to operate on vectors, rather than bits.</span></span>
<span class="line" line-num="260" source-line-num="65">               <span class="tlv_ident_comment">// TODO: Keep optimizing...</span></span>
<span class="line" line-num="261" source-line-num="65">               <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_was_tail">$$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">} = {</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_is_tail">$reconstructed_is_tail</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">[2:0], </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_is_tail">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">} </span><span class="tlv_ident_comment">/* circular &lt;&lt; */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="262" source-line-num="65">               <span class="tlv_ident_hdl_code">{</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$push">$$push</span><span class="tlv_ident_hdl_code">} = {4{</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$push">$push</span><span class="tlv_ident_hdl_code">}} &amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_was_tail">$prev_entry_was_tail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="263" source-line-num="65">               <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="264" source-line-num="65">                  <span class="tlv_ident_comment">// Replaced with optimized versions above:</span></span>
<span class="line" line-num="265" source-line-num="65">                  <span class="tlv_ident_comment">// $prev_entry_was_tail = /entry[(entry+(m4_depth)-1)%(m4_depth)]&gt;&gt;1$reconstructed_is_tail;</span></span>
<span class="line" line-num="266" source-line-num="65">                  <span class="tlv_ident_comment">// $push = |stall3$push &amp;&amp; $prev_entry_was_tail;</span></span>
<span class="line" line-num="267" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$valid">$valid</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_valid">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry"tlx_ref="">/entry</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0/entry$pop">$pop</span><span class="tlv_ident_hdl_code">) || </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$push">$push</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="268" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$is_tail">$is_tail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$accepted">$accepted</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_was_tail">$prev_entry_was_tail</span>  <span class="tlv_ident_comment">// shift tail</span></span>
<span class="line" line-num="269" source-line-num="65">                                                  <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_is_tail">$reconstructed_is_tail</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// retain tail</span></span>
<span class="line" line-num="270" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0</span></span>
<span class="line" line-num="271" source-line-num="65">                                             <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$valid">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! (</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$is_tail">$is_tail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="272" source-line-num="65">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@4">@2</span></span>
<span class="line" line-num="273" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$empty">$empty</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">]</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="274" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3$full">$full</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$valid_count">$valid_count</span> <span class="tlv_ident_hdl_code">== full_mark_25);  </span><span class="tlv_ident_comment">// Could optimize for power-of-two depth.</span></span>
<span class="line" line-num="275" source-line-num="65">            <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="276" source-line-num="65">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@4">@2</span></span>
<span class="line" line-num="277" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_state">$prev_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="278" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$next_entry_state">$next_entry_state</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(entry+1)%(4)</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="279" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_is_tail">$reconstructed_is_tail</span> <span class="tlv_ident_hdl_code">= (  </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_state">$prev_entry_state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="280" source-line-num="65">                                           <span class="tlv_ident_hdl_code">(! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (!</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$next_entry_state">$next_entry_state</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span><span class="tlv_ident_hdl_code">)) ||</span></span>
<span class="line" line-num="281" source-line-num="65">                                           <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$empty">$empty</span> <span class="tlv_ident_hdl_code">&amp;&amp; (entry == 0));  </span><span class="tlv_ident_comment">// need a tail when empty for push</span></span>
<span class="line" line-num="282" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$is_head">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_state">$prev_entry_state</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="283" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall3/entry$reconstructed_valid">$reconstructed_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$state">$state</span> <span class="tlv_ident_hdl_code">|| (</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$two_valid">$two_valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$prev_entry_state">$prev_entry_state</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="284" source-line-num="65">            <span class="tlv_ident_comment">// Write data</span></span>
<span class="line" line-num="285" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3">|stall3</span></span>
<span class="line" line-num="286" source-line-num="65">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall3@2">@1</span></span>
<span class="line" line-num="287" source-line-num="65">               <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="288" source-line-num="65">                     <span class="tlv_ident_comment">//?$push</span></span>
<span class="line" line-num="289" source-line-num="65">                     <span class="tlv_ident_comment">//   $aNY = |m4_in_pipe['']m4_trans$ANY;</span></span>
<span class="line" line-num="290" source-line-num="65">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry/trans">/trans</span></span>
<span class="line" line-num="291" source-line-num="65">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|stall3/entry/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$push">$push</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall3/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall3/entry/trans$ANY">$ANY</span> <span class="tlv_ident_comment">/* RETAIN */</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="292" source-line-num="65">            <span class="tlv_ident_comment">// Read data</span></span>
<span class="line" line-num="293" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="294" source-line-num="65">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp0@2">@1</span></span>
<span class="line" line-num="295" source-line-num="65">                  <span class="tlv_ident_comment">//$pop  = ! /m4_top|m4_in_pipe&gt;&gt;m4_align(m4_in_at + 1, m4_out_at)$empty &amp;&amp; ! $blocked;</span></span>
<span class="line" line-num="296" source-line-num="65">               <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="297" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0/entry$is_head">$is_head</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3/entry$is_head">$is_head</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="298" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0/entry$pop">$pop</span>  <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0/entry$is_head">$is_head</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="299" source-line-num="65">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/read_masked">/read_masked</span></span>
<span class="line" line-num="300" source-line-num="65">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/read_masked/trans">/trans</span></span>
<span class="line" line-num="301" source-line-num="65">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp0/entry/read_masked/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry"tlx_ref="">/entry</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0/entry$is_head">$is_head</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/entry/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall3/entry/trans$ANY">$ANY</span> <span class="tlv_ident_comment">/* $aNY */ </span><span class="tlv_ident_hdl_code">: '0;</span></span>
<span class="line" line-num="302" source-line-num="65">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum">/accum</span></span>
<span class="line" line-num="303" source-line-num="65">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum/trans">/trans</span></span>
<span class="line" line-num="304" source-line-num="65">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp0/entry/accum/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= ((entry == 0) ? '0 : </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(entry+(4)-1)%(4)</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum"tlx_ref="">/accum</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/entry/accum/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">) |</span></span>
<span class="line" line-num="305" source-line-num="65">                                   <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/read_masked"tlx_ref="">/read_masked</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/read_masked/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/entry/read_masked/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="306" source-line-num="65">               <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/head">/head</span></span>
<span class="line" line-num="307" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0/head$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="308" source-line-num="65">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="309" source-line-num="65">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/head/trans">/trans</span></span>
<span class="line" line-num="310" source-line-num="65">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp0/head/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry"tlx_ref="">/entry</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">(4)-1</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum"tlx_ref="">/accum</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/entry/accum/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/entry/accum/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="311" source-line-num="65">         <span class="tlv_ident_comment">// Bypass</span></span>
<span class="line" line-num="312" source-line-num="65">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="313" source-line-num="65">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp0@2">@1</span></span>
<span class="line" line-num="314" source-line-num="65">               <span class="tlv_ident_comment">// Available output.  Sometimes it's necessary to know what would be coming to determined</span></span>
<span class="line" line-num="315" source-line-num="65">               <span class="tlv_ident_comment">// if it's blocked.  This can be used externally in that case.</span></span>
<span class="line" line-num="316" source-line-num="65">               <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/fifo_head">/fifo_head</span></span>
<span class="line" line-num="317" source-line-num="65">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0/fifo_head$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="318" source-line-num="65">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="319" source-line-num="65">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/fifo_head/trans">/trans</span></span>
<span class="line" line-num="320" source-line-num="65">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp0/fifo_head/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$would_bypass">$would_bypass</span></span>
<span class="line" line-num="321" source-line-num="65">                                     <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall3/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|stall3/trans$ANY">$ANY</span></span>
<span class="line" line-num="322" source-line-num="65">                                     <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/head"tlx_ref="">/head</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/head/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/head/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="323" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$would_bypass">$would_bypass</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="324" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$trans_valid">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="325" source-line-num="65">               <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="326" source-line-num="65">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/trans">/trans</span></span>
<span class="line" line-num="327" source-line-num="65">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp0/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/fifo_head"tlx_ref="">/fifo_head</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/fifo_head/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/fifo_head/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="328" source-line-num="65">               </span>
<span class="line" line-num="329" source-line-num="65">               <span class="tlv_ident_comment">// Deliver reset.</span></span>
<span class="line" line-num="330" source-line-num="65">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall3"tlx_ref="">|stall3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall3$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="331" source-line-num="65">      </span>
<span class="line" line-num="332" source-line-num="65">         </span>
<span class="line" line-num="333" source-line-num="65">         </span>
<span class="line" line-num="334" source-line-num="65">         </span>
<span class="line" line-num="335" source-line-num="65">         </span>
<span class="line" line-num="336" source-line-num="65">         </span>
<span class="line" line-num="337" source-line-num="65">         <span class="tlv_ident_comment">/* Alternate code for pointer indexing.  Replaces $ANY expression above.</span></span>
<span class="line" line-num="338" source-line-num="65">      </span>
<span class="line" line-num="339" source-line-num="65">         <span class="tlv_ident_comment">// Hierarchy</span></span>
<span class="line" line-num="340" source-line-num="65">         <span class="tlv_ident_comment">|m4_in_pipe</span></span>
<span class="line" line-num="341" source-line-num="65">            <span class="tlv_ident_comment">/entry2[(m4_depth)-1:0]</span></span>
<span class="line" line-num="342" source-line-num="65">      </span>
<span class="line" line-num="343" source-line-num="65">         <span class="tlv_ident_comment">// Head/Tail ptrs.</span></span>
<span class="line" line-num="344" source-line-num="65">         <span class="tlv_ident_comment">|m4_in_pipe</span></span>
<span class="line" line-num="345" source-line-num="65">            <span class="tlv_ident_comment">@m4_in_at</span></span>
<span class="line" line-num="346" source-line-num="65">               <span class="tlv_ident_comment">&gt;&gt;1$WrPtr[m4_ptr_width-1:0] =</span></span>
<span class="line" line-num="347" source-line-num="65">                   <span class="tlv_ident_comment">$reset       ? '0 :</span></span>
<span class="line" line-num="348" source-line-num="65">                   <span class="tlv_ident_comment">$trans_valid ? ($WrPtr == (m4_depth - 1))</span></span>
<span class="line" line-num="349" source-line-num="65">                                    <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="350" source-line-num="65">                                    <span class="tlv_ident_comment">: $WrPtr + {{(m4_ptr_width-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="351" source-line-num="65">                                  <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="352" source-line-num="65">         <span class="tlv_ident_comment">|m4_out_pipe</span></span>
<span class="line" line-num="353" source-line-num="65">            <span class="tlv_ident_comment">@m4_out_at</span></span>
<span class="line" line-num="354" source-line-num="65">               <span class="tlv_ident_comment">&gt;&gt;1$RdPtr[m4_ptr_width-1:0] =</span></span>
<span class="line" line-num="355" source-line-num="65">                   <span class="tlv_ident_comment">/m4_top|m4_in_pipe&gt;&gt;m4_reverse_bypass_align$reset</span></span>
<span class="line" line-num="356" source-line-num="65">                                <span class="tlv_ident_comment">? '0 :</span></span>
<span class="line" line-num="357" source-line-num="65">                   <span class="tlv_ident_comment">$trans_valid ? ($RdPtr == (m4_depth - 1))</span></span>
<span class="line" line-num="358" source-line-num="65">                                    <span class="tlv_ident_comment">? '0</span></span>
<span class="line" line-num="359" source-line-num="65">                                    <span class="tlv_ident_comment">: $RdPtr + {{(m4_ptr_width-1){1'b0}}, 1'b1} :</span></span>
<span class="line" line-num="360" source-line-num="65">                                  <span class="tlv_ident_comment">$RETAIN;</span></span>
<span class="line" line-num="361" source-line-num="65">         <span class="tlv_ident_comment">// Write FIFO</span></span>
<span class="line" line-num="362" source-line-num="65">         <span class="tlv_ident_comment">|m4_in_pipe</span></span>
<span class="line" line-num="363" source-line-num="65">            <span class="tlv_ident_comment">@m4_in_at</span></span>
<span class="line" line-num="364" source-line-num="65">               <span class="tlv_ident_comment">$dummy = '0;</span></span>
<span class="line" line-num="365" source-line-num="65">               <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="366" source-line-num="65">                  <span class="tlv_ident_comment">// This doesn't work because SV complains for FIFOs in replicated context that</span></span>
<span class="line" line-num="367" source-line-num="65">                  <span class="tlv_ident_comment">// there are multiple procedures that assign the signals.</span></span>
<span class="line" line-num="368" source-line-num="65">                  <span class="tlv_ident_comment">// Array writes can be done in an SV module.</span></span>
<span class="line" line-num="369" source-line-num="65">                  <span class="tlv_ident_comment">// The only long-term resolutions are support for module generation and use</span></span>
<span class="line" line-num="370" source-line-num="65">                  <span class="tlv_ident_comment">// signals declared within for loops with cross-hierarchy references in SV.</span></span>
<span class="line" line-num="371" source-line-num="65">                  <span class="tlv_ident_comment">// TODO: To make a simulation-efficient FIFO, use DesignWare.</span></span>
<span class="line" line-num="372" source-line-num="65">                  <span class="tlv_ident_comment">{/entry2[$WrPtr]$$ANY} = $ANY;</span></span>
<span class="line" line-num="373" source-line-num="65">         <span class="tlv_ident_comment">// Read FIFO</span></span>
<span class="line" line-num="374" source-line-num="65">         <span class="tlv_ident_comment">|m4_out_pipe</span></span>
<span class="line" line-num="375" source-line-num="65">            <span class="tlv_ident_comment">@m4_out_at</span></span>
<span class="line" line-num="376" source-line-num="65">               <span class="tlv_ident_comment">/read2</span></span>
<span class="line" line-num="377" source-line-num="65">                  <span class="tlv_ident_comment">$trans_valid = |m4_out_pipe$trans_valid;</span></span>
<span class="line" line-num="378" source-line-num="65">                  <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="379" source-line-num="65">                     <span class="tlv_ident_comment">$ANY = /m4_top|m4_in_pipe/entry2[|m4_out_pipe$RdPtr]&gt;&gt;m4_reverse_bypass_align$ANY;</span></span>
<span class="line" line-num="380" source-line-num="65">                  <span class="tlv_ident_comment">`BOGUS_USE($dummy)</span></span>
<span class="line" line-num="381" source-line-num="65">               <span class="tlv_ident_comment">?$trans_valid</span></span>
<span class="line" line-num="382" source-line-num="65">                  <span class="tlv_ident_comment">$ANY = /read2$ANY;</span></span>
<span class="line" line-num="383" source-line-num="65">         <span class="tlv_ident_comment">*/</span></span>
<span class="line" line-num="384" source-line-num="65">      </span>
<span class="line" line-num="385" source-line-num="65">  </span>
<span class="line" line-num="386" source-line-num="65">    </span>
<span class="line" line-num="387" source-line-num="65">    </span>
<span class="line" line-num="388" source-line-num="65">    </span>
<span class="line" line-num="389" source-line-num="65">  </span>
<span class="line" line-num="390" source-line-num="65"></span>
<span class="line" line-num="391" source-line-num="65">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="392" source-line-num="66">      <span class="tlv_ident_comment">//m4+simple_bypass_fifo_v2(/ring_stop, |stall3, @1, |bp0, @1, 4, 100, /trans)</span></span>
<span class="line" line-num="393" source-line-num="67">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 416   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+bp_pipeline(/ring_stop, |bp, 0, 3, /trans)</span></span>
<span class="line" line-num="394" source-line-num="67">         </span>
<span class="line" line-num="395" source-line-num="67">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 342   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+bp_stage(/ring_stop, |bp['']m4_stage, @1, |bp['']m4_eval(m4_stage + 1), @1, /trans, 0, 0, , )</span></span>
<span class="line" line-num="396" source-line-num="67">            </span>
<span class="line" line-num="397" source-line-num="67">            </span>
<span class="line" line-num="398" source-line-num="67">            </span>
<span class="line" line-num="399" source-line-num="67">            </span>
<span class="line" line-num="400" source-line-num="67">            </span>
<span class="line" line-num="401" source-line-num="67">            </span>
<span class="line" line-num="402" source-line-num="67">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 349 as: m4+flow_interface(/ring_stop, [' |bp0, @1'], [' |bp1, @1'], )</span></span>
<span class="line" line-num="403" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |bp0, @1'], )</span></span>
<span class="line" line-num="404" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="405" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="406" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp0@2">@1</span></span>
<span class="line" line-num="407" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="408" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="409" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="410" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp0, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="411" source-line-num="67">                     </span>
<span class="line" line-num="412" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="413" source-line-num="67">                  </span>
<span class="line" line-num="414" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="415" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |bp1, @1'])</span></span>
<span class="line" line-num="416" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="417" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1">|bp1</span></span>
<span class="line" line-num="418" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@2">@1</span></span>
<span class="line" line-num="419" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="420" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp1, @1))))</span></span>
<span class="line" line-num="421" source-line-num="67">                     </span>
<span class="line" line-num="422" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="423" source-line-num="67">                  </span>
<span class="line" line-num="424" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="425" source-line-num="67">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="426" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1">|bp1</span></span>
<span class="line" line-num="427" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@0">@0</span></span>
<span class="line" line-num="428" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp0@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="429" source-line-num="67">                  </span>
<span class="line" line-num="430" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="431" source-line-num="67">                                    <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$blocked">$blocked</span><span class="tlv_ident_hdl_code">) ||  </span><span class="tlv_ident_comment">// Recirc'ed or</span></span>
<span class="line" line-num="432" source-line-num="67">                                    <span class="tlv_ident_comment">// Above is recomputation of $recirc to avoid a flop.</span></span>
<span class="line" line-num="433" source-line-num="67">                                    <span class="tlv_ident_comment">// For SELF, its in the same stage, and is redundant computation.</span></span>
<span class="line" line-num="434" source-line-num="67">                                    <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp0@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp0$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// Incoming available</span></span>
<span class="line" line-num="435" source-line-num="67">                  <span class="tlv_ident_comment">//$first_avail = $avail &amp;&amp; ! &gt;&gt;1$blocked;  // Transaction is newly available.</span></span>
<span class="line" line-num="436" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@0">@0</span></span>
<span class="line" line-num="437" source-line-num="67">                  <span class="tlv_ident_when">?$avail  </span><span class="tlv_ident_comment">// Physically, $first_avail &amp;&amp; *reset_b for functional gating in</span></span>
<span class="line" line-num="438" source-line-num="67">                           <span class="tlv_ident_comment">// place of recirculation.</span></span>
<span class="line" line-num="439" source-line-num="67">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp1/trans">/trans</span></span>
<span class="line" line-num="440" source-line-num="67">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp1/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="441" source-line-num="67">                           <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1"tlx_ref="">|bp1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$recirc">$recirc</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp1/trans$ANY">$ANY</span></span>
<span class="line" line-num="442" source-line-num="67">                                                <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0"tlx_ref="">|bp0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp0/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp0@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp0/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="443" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@2">@1</span></span>
<span class="line" line-num="444" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$recirc">$recirc</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// Available transaction that is blocked; must recirc.</span></span>
<span class="line" line-num="445" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp0">|bp0</span></span>
<span class="line" line-num="446" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp0@2">@1</span></span>
<span class="line" line-num="447" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp0$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1"tlx_ref="">|bp1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$recirc">$recirc</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="448" source-line-num="67">                  <span class="tlv_ident_comment">// This trans is blocked (whether valid or not) if the next stage is recirculating.</span></span>
<span class="line" line-num="449" source-line-num="67">            </span>
<span class="line" line-num="450" source-line-num="67">            </span>
<span class="line" line-num="451" source-line-num="67">            </span>
<span class="line" line-num="452" source-line-num="67">            </span>
<span class="line" line-num="453" source-line-num="67">            </span>
<span class="line" line-num="454" source-line-num="67">            </span>
<span class="line" line-num="455" source-line-num="67">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="456" source-line-num="67">         </span>
<span class="line" line-num="457" source-line-num="67">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 342   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+bp_stage(/ring_stop, |bp['']m4_stage, @1, |bp['']m4_eval(m4_stage + 1), @1, /trans, 0, 0, , )</span></span>
<span class="line" line-num="458" source-line-num="67">            </span>
<span class="line" line-num="459" source-line-num="67">            </span>
<span class="line" line-num="460" source-line-num="67">            </span>
<span class="line" line-num="461" source-line-num="67">            </span>
<span class="line" line-num="462" source-line-num="67">            </span>
<span class="line" line-num="463" source-line-num="67">            </span>
<span class="line" line-num="464" source-line-num="67">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 349 as: m4+flow_interface(/ring_stop, [' |bp1, @1'], [' |bp2, @1'], )</span></span>
<span class="line" line-num="465" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |bp1, @1'], )</span></span>
<span class="line" line-num="466" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="467" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1">|bp1</span></span>
<span class="line" line-num="468" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@2">@1</span></span>
<span class="line" line-num="469" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="470" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="471" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="472" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp1, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="473" source-line-num="67">                     </span>
<span class="line" line-num="474" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="475" source-line-num="67">                  </span>
<span class="line" line-num="476" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="477" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |bp2, @1'])</span></span>
<span class="line" line-num="478" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="479" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2">|bp2</span></span>
<span class="line" line-num="480" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@2">@1</span></span>
<span class="line" line-num="481" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="482" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp2, @1))))</span></span>
<span class="line" line-num="483" source-line-num="67">                     </span>
<span class="line" line-num="484" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="485" source-line-num="67">                  </span>
<span class="line" line-num="486" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="487" source-line-num="67">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="488" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2">|bp2</span></span>
<span class="line" line-num="489" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@0">@0</span></span>
<span class="line" line-num="490" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1"tlx_ref="">|bp1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="491" source-line-num="67">                  </span>
<span class="line" line-num="492" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="493" source-line-num="67">                                    <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$blocked">$blocked</span><span class="tlv_ident_hdl_code">) ||  </span><span class="tlv_ident_comment">// Recirc'ed or</span></span>
<span class="line" line-num="494" source-line-num="67">                                    <span class="tlv_ident_comment">// Above is recomputation of $recirc to avoid a flop.</span></span>
<span class="line" line-num="495" source-line-num="67">                                    <span class="tlv_ident_comment">// For SELF, its in the same stage, and is redundant computation.</span></span>
<span class="line" line-num="496" source-line-num="67">                                    <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1"tlx_ref="">|bp1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp1$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// Incoming available</span></span>
<span class="line" line-num="497" source-line-num="67">                  <span class="tlv_ident_comment">//$first_avail = $avail &amp;&amp; ! &gt;&gt;1$blocked;  // Transaction is newly available.</span></span>
<span class="line" line-num="498" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@0">@0</span></span>
<span class="line" line-num="499" source-line-num="67">                  <span class="tlv_ident_when">?$avail  </span><span class="tlv_ident_comment">// Physically, $first_avail &amp;&amp; *reset_b for functional gating in</span></span>
<span class="line" line-num="500" source-line-num="67">                           <span class="tlv_ident_comment">// place of recirculation.</span></span>
<span class="line" line-num="501" source-line-num="67">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp2/trans">/trans</span></span>
<span class="line" line-num="502" source-line-num="67">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="503" source-line-num="67">                           <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2"tlx_ref="">|bp2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp2/trans$ANY">$ANY</span></span>
<span class="line" line-num="504" source-line-num="67">                                                <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1"tlx_ref="">|bp1</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp1/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp1@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp1/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="505" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@2">@1</span></span>
<span class="line" line-num="506" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// Available transaction that is blocked; must recirc.</span></span>
<span class="line" line-num="507" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp1">|bp1</span></span>
<span class="line" line-num="508" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp1@2">@1</span></span>
<span class="line" line-num="509" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2"tlx_ref="">|bp2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$recirc">$recirc</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="510" source-line-num="67">                  <span class="tlv_ident_comment">// This trans is blocked (whether valid or not) if the next stage is recirculating.</span></span>
<span class="line" line-num="511" source-line-num="67">            </span>
<span class="line" line-num="512" source-line-num="67">            </span>
<span class="line" line-num="513" source-line-num="67">            </span>
<span class="line" line-num="514" source-line-num="67">            </span>
<span class="line" line-num="515" source-line-num="67">            </span>
<span class="line" line-num="516" source-line-num="67">            </span>
<span class="line" line-num="517" source-line-num="67">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="518" source-line-num="67">         </span>
<span class="line" line-num="519" source-line-num="67">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 342   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+bp_stage(/ring_stop, |bp['']m4_stage, @1, |bp['']m4_eval(m4_stage + 1), @1, /trans, 0, 0, , )</span></span>
<span class="line" line-num="520" source-line-num="67">            </span>
<span class="line" line-num="521" source-line-num="67">            </span>
<span class="line" line-num="522" source-line-num="67">            </span>
<span class="line" line-num="523" source-line-num="67">            </span>
<span class="line" line-num="524" source-line-num="67">            </span>
<span class="line" line-num="525" source-line-num="67">            </span>
<span class="line" line-num="526" source-line-num="67">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 349 as: m4+flow_interface(/ring_stop, [' |bp2, @1'], [' |bp3, @1'], )</span></span>
<span class="line" line-num="527" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |bp2, @1'], )</span></span>
<span class="line" line-num="528" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="529" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2">|bp2</span></span>
<span class="line" line-num="530" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@2">@1</span></span>
<span class="line" line-num="531" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="532" source-line-num="67">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="533" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="534" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp2, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="535" source-line-num="67">                     </span>
<span class="line" line-num="536" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="537" source-line-num="67">                  </span>
<span class="line" line-num="538" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="539" source-line-num="67">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |bp3, @1'])</span></span>
<span class="line" line-num="540" source-line-num="67">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="541" source-line-num="67">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3">|bp3</span></span>
<span class="line" line-num="542" source-line-num="67">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@2">@1</span></span>
<span class="line" line-num="543" source-line-num="67">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="544" source-line-num="67">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 67 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp3, @1))))</span></span>
<span class="line" line-num="545" source-line-num="67">                     </span>
<span class="line" line-num="546" source-line-num="67">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="547" source-line-num="67">                  </span>
<span class="line" line-num="548" source-line-num="67">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="549" source-line-num="67">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="550" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3">|bp3</span></span>
<span class="line" line-num="551" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@0">@0</span></span>
<span class="line" line-num="552" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2"tlx_ref="">|bp2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="553" source-line-num="67">                  </span>
<span class="line" line-num="554" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="555" source-line-num="67">                                    <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$blocked">$blocked</span><span class="tlv_ident_hdl_code">) ||  </span><span class="tlv_ident_comment">// Recirc'ed or</span></span>
<span class="line" line-num="556" source-line-num="67">                                    <span class="tlv_ident_comment">// Above is recomputation of $recirc to avoid a flop.</span></span>
<span class="line" line-num="557" source-line-num="67">                                    <span class="tlv_ident_comment">// For SELF, its in the same stage, and is redundant computation.</span></span>
<span class="line" line-num="558" source-line-num="67">                                    <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2"tlx_ref="">|bp2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp2$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// Incoming available</span></span>
<span class="line" line-num="559" source-line-num="67">                  <span class="tlv_ident_comment">//$first_avail = $avail &amp;&amp; ! &gt;&gt;1$blocked;  // Transaction is newly available.</span></span>
<span class="line" line-num="560" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@0">@0</span></span>
<span class="line" line-num="561" source-line-num="67">                  <span class="tlv_ident_when">?$avail  </span><span class="tlv_ident_comment">// Physically, $first_avail &amp;&amp; *reset_b for functional gating in</span></span>
<span class="line" line-num="562" source-line-num="67">                           <span class="tlv_ident_comment">// place of recirculation.</span></span>
<span class="line" line-num="563" source-line-num="67">                     <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp3/trans">/trans</span></span>
<span class="line" line-num="564" source-line-num="67">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bp3/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="565" source-line-num="67">                           <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$recirc">$recirc</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp3/trans$ANY">$ANY</span></span>
<span class="line" line-num="566" source-line-num="67">                                                <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2"tlx_ref="">|bp2</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp2/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp2@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp2/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="567" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@2">@1</span></span>
<span class="line" line-num="568" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$recirc">$recirc</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// Available transaction that is blocked; must recirc.</span></span>
<span class="line" line-num="569" source-line-num="67">            <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp2">|bp2</span></span>
<span class="line" line-num="570" source-line-num="67">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp2@2">@1</span></span>
<span class="line" line-num="571" source-line-num="67">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$recirc">$recirc</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="572" source-line-num="67">                  <span class="tlv_ident_comment">// This trans is blocked (whether valid or not) if the next stage is recirculating.</span></span>
<span class="line" line-num="573" source-line-num="67">            </span>
<span class="line" line-num="574" source-line-num="67">            </span>
<span class="line" line-num="575" source-line-num="67">            </span>
<span class="line" line-num="576" source-line-num="67">            </span>
<span class="line" line-num="577" source-line-num="67">            </span>
<span class="line" line-num="578" source-line-num="67">            </span>
<span class="line" line-num="579" source-line-num="67">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="580" source-line-num="67">         </span>
<span class="line" line-num="581" source-line-num="67">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="582" source-line-num="68">      <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3">|bp3</span></span>
<span class="line" line-num="583" source-line-num="69">         <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@2">@1</span></span>
<span class="line" line-num="584" source-line-num="70">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$local">$local</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp3/trans"tlx_ref="">/trans</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3/trans$dest">$dest</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop;</span></span>
<span class="line" line-num="585" source-line-num="71">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 179   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 71 as: m4+opportunistic_flow(/ring_stop, |bp3, @1, |bypass, @1, $local, |ring_in, @1, /trans)</span></span>
<span class="line" line-num="586" source-line-num="71">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 180 as: m4+flow_interface(/ring_stop, [' |bp3, @1'], [' |bypass, @1, |ring_in, @1'], )</span></span>
<span class="line" line-num="587" source-line-num="71">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |bp3, @1'], )</span></span>
<span class="line" line-num="588" source-line-num="71">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="589" source-line-num="71">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3">|bp3</span></span>
<span class="line" line-num="590" source-line-num="71">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@2">@1</span></span>
<span class="line" line-num="591" source-line-num="71">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="592" source-line-num="71">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="593" source-line-num="71">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="594" source-line-num="71">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 71 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bp3, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="595" source-line-num="71">                  </span>
<span class="line" line-num="596" source-line-num="71">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="597" source-line-num="71">               </span>
<span class="line" line-num="598" source-line-num="71">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="599" source-line-num="71">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |bypass, @1, |ring_in, @1'])</span></span>
<span class="line" line-num="600" source-line-num="71">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="601" source-line-num="71">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass">|bypass</span></span>
<span class="line" line-num="602" source-line-num="71">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bypass@2">@1</span></span>
<span class="line" line-num="603" source-line-num="71">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="604" source-line-num="71">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 71 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |bypass, @1, |ring_in, @1))))</span></span>
<span class="line" line-num="605" source-line-num="71">                  <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="606" source-line-num="71">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="607" source-line-num="71">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_in@2">@1</span></span>
<span class="line" line-num="608" source-line-num="71">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="609" source-line-num="71">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 71 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift(|ring_in,@1))))</span></span>
<span class="line" line-num="610" source-line-num="71">                     </span>
<span class="line" line-num="611" source-line-num="71">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="612" source-line-num="71">                  </span>
<span class="line" line-num="613" source-line-num="71">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="614" source-line-num="71">               </span>
<span class="line" line-num="615" source-line-num="71">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="616" source-line-num="71">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="617" source-line-num="71">         </span>
<span class="line" line-num="618" source-line-num="71">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass">|bypass</span></span>
<span class="line" line-num="619" source-line-num="71">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bypass@2">@1</span></span>
<span class="line" line-num="620" source-line-num="71">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bypass$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="621" source-line-num="71">                        <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$local">$local</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="622" source-line-num="71">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bypass$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="623" source-line-num="71">               <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="624" source-line-num="71">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bypass/trans">/trans</span></span>
<span class="line" line-num="625" source-line-num="71">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|bypass/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp3/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp3/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="626" source-line-num="71">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="627" source-line-num="71">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_in@2">@1</span></span>
<span class="line" line-num="628" source-line-num="71">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_in$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="629" source-line-num="71">                        <span class="tlv_ident_hdl_code">(! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$local">$local</span> <span class="tlv_ident_hdl_code">||</span></span>
<span class="line" line-num="630" source-line-num="71">                         <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass"tlx_ref="">|bypass</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bypass@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$blocked">$blocked</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="631" source-line-num="71">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_in$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="632" source-line-num="71">               <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="633" source-line-num="71">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|ring_in/trans">/trans</span></span>
<span class="line" line-num="634" source-line-num="71">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|ring_in/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3"tlx_ref="">|bp3</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bp3/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bp3@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bp3/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="635" source-line-num="71">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bp3">|bp3</span></span>
<span class="line" line-num="636" source-line-num="71">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bp3@2">@1</span></span>
<span class="line" line-num="637" source-line-num="71">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bp3$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= (</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$blocked">$blocked</span> <span class="tlv_ident_hdl_code">||</span></span>
<span class="line" line-num="638" source-line-num="71">                           <span class="tlv_ident_hdl_code">! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bp3$local">$local</span><span class="tlv_ident_hdl_code">) &amp;&amp;</span></span>
<span class="line" line-num="639" source-line-num="71">                          <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass"tlx_ref="">|bypass</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bypass@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="640" source-line-num="71">         </span>
<span class="line" line-num="641" source-line-num="71">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="642" source-line-num="72">   <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 1017   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 72 as: m4+simple_ring(/ring_stop, |ring_in, @1, |ring_out, @1, /top&lt;&gt;0$reset, |rg, /trans)</span></span>
<span class="line" line-num="643" source-line-num="72">      </span>
<span class="line" line-num="644" source-line-num="72">      </span>
<span class="line" line-num="645" source-line-num="72">      </span>
<span class="line" line-num="646" source-line-num="72">      </span>
<span class="line" line-num="647" source-line-num="72">      </span>
<span class="line" line-num="648" source-line-num="72">      </span>
<span class="line" line-num="649" source-line-num="72">      <span class="tlv_ident_comment">// Logic</span></span>
<span class="line" line-num="650" source-line-num="72">      <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="651" source-line-num="72">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1026 as: m4+flow_interface(/ring_stop, [' |ring_in, @1'], [' |ring_out, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="652" source-line-num="72">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |ring_in, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="653" source-line-num="72">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="654" source-line-num="72">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="655" source-line-num="72">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_in@2">@1</span></span>
<span class="line" line-num="656" source-line-num="72">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_in$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="657" source-line-num="72">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_in$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">=  </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="658" source-line-num="72">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="659" source-line-num="72">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 72 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |ring_in, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="660" source-line-num="72">                  </span>
<span class="line" line-num="661" source-line-num="72">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="662" source-line-num="72">               </span>
<span class="line" line-num="663" source-line-num="72">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="664" source-line-num="72">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |ring_out, @1'])</span></span>
<span class="line" line-num="665" source-line-num="72">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="666" source-line-num="72">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="667" source-line-num="72">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_out@2">@1</span></span>
<span class="line" line-num="668" source-line-num="72">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="669" source-line-num="72">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 72 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |ring_out, @1))))</span></span>
<span class="line" line-num="670" source-line-num="72">                  </span>
<span class="line" line-num="671" source-line-num="72">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="672" source-line-num="72">               </span>
<span class="line" line-num="673" source-line-num="72">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="674" source-line-num="72">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="675" source-line-num="72">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|default">|default</span></span>
<span class="line" line-num="676" source-line-num="72">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|default@0">@0</span></span>
<span class="line" line-num="677" source-line-num="72">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="678" source-line-num="72">                  <span class="tlv_ident_hdl_code">int prev_hop = (ring_stop + 4 - 1) % 4;</span></span>
<span class="line" line-num="679" source-line-num="72">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in">|ring_in</span></span>
<span class="line" line-num="680" source-line-num="72">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_in@2">@1</span></span>
<span class="line" line-num="681" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_in$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|rg@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$passed_on">$passed_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="682" source-line-num="72">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg">|rg</span></span>
<span class="line" line-num="683" source-line-num="72">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|rg@2">@1</span></span>
<span class="line" line-num="684" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|rg$passed_on">$passed_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$pass_on">$pass_on</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="685" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="686" source-line-num="72">                        <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$passed_on">$passed_on</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$avail">$avail</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="687" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|rg$pass_on">$pass_on</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$trans_valid">$trans_valid</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="688" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|rg$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="689" source-line-num="72">                  <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$passed_on">$passed_on</span></span>
<span class="line" line-num="690" source-line-num="72">                     <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$dest">$dest</span></span>
<span class="line" line-num="691" source-line-num="72">                     <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|ring_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in/trans$dest">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="692" source-line-num="72">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|rg@2">@1</span></span>
<span class="line" line-num="693" source-line-num="72">               <span class="tlv_ident_when">?$valid</span></span>
<span class="line" line-num="694" source-line-num="72">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|rg/trans">/trans</span></span>
<span class="line" line-num="695" source-line-num="72">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|rg/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="696" source-line-num="72">                       <span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$passed_on">$passed_on</span></span>
<span class="line" line-num="697" source-line-num="72">                           <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">prev_hop</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|rg/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@4">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|rg/trans$ANY">$ANY</span></span>
<span class="line" line-num="698" source-line-num="72">                           <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|ring_in/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|ring_in@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|ring_in/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="699" source-line-num="72">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="700" source-line-num="72">            <span class="tlv_ident_comment">// Ring out</span></span>
<span class="line" line-num="701" source-line-num="72">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_out@2">@1</span></span>
<span class="line" line-num="702" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$valid">$valid</span> <span class="tlv_ident_hdl_code">&amp;&amp; (</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|rg$dest">$dest</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop);</span></span>
<span class="line" line-num="703" source-line-num="72">               <span class="tlv_ident_comment">//$blocked = 1'b0;</span></span>
<span class="line" line-num="704" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$trans_valid">$trans_valid</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// &amp;&amp; ! $blocked;</span></span>
<span class="line" line-num="705" source-line-num="72">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_in"tlx_ref="">|ring_in</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_in@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_in$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="706" source-line-num="72">            <span class="tlv_ident_when">?$trans_valid</span></span>
<span class="line" line-num="707" source-line-num="72">               <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_out@2">@1</span></span>
<span class="line" line-num="708" source-line-num="72">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|ring_out/trans">/trans</span></span>
<span class="line" line-num="709" source-line-num="72">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|ring_out/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|rg"tlx_ref="">|rg</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|rg/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|rg@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|rg/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="710" source-line-num="72">      </span>
<span class="line" line-num="711" source-line-num="72">      </span>
<span class="line" line-num="712" source-line-num="72">      </span>
<span class="line" line-num="713" source-line-num="72">      </span>
<span class="line" line-num="714" source-line-num="72">      </span>
<span class="line" line-num="715" source-line-num="72">   <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="716" source-line-num="73">   </span>
<span class="line" line-num="717" source-line-num="74">   <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="718" source-line-num="75">      <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 150   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 75 as: m4+arb2(/ring_stop, |ring_out, @4, |bypass, @1, |arb_out, @1, /trans)</span></span>
<span class="line" line-num="719" source-line-num="75">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 151 as: m4+flow_interface(/ring_stop, [' |ring_out, @4, |bypass, @1'], [' |arb_out, @1'], )</span></span>
<span class="line" line-num="720" source-line-num="75">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |ring_out, @4, |bypass, @1'], )</span></span>
<span class="line" line-num="721" source-line-num="75">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="722" source-line-num="75">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="723" source-line-num="75">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_out@8">@4</span></span>
<span class="line" line-num="724" source-line-num="75">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="725" source-line-num="75">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="726" source-line-num="75">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="727" source-line-num="75">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 75 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |ring_out, @4, |bypass, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="728" source-line-num="75">                  <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="729" source-line-num="75">                  <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass">|bypass</span></span>
<span class="line" line-num="730" source-line-num="75">                     <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bypass@2">@1</span></span>
<span class="line" line-num="731" source-line-num="75">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bypass$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="732" source-line-num="75">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bypass$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="733" source-line-num="75">                        <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="734" source-line-num="75">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 75 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift(|bypass,@1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="735" source-line-num="75">                     </span>
<span class="line" line-num="736" source-line-num="75">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="737" source-line-num="75">                  </span>
<span class="line" line-num="738" source-line-num="75">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="739" source-line-num="75">               </span>
<span class="line" line-num="740" source-line-num="75">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="741" source-line-num="75">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |arb_out, @1'])</span></span>
<span class="line" line-num="742" source-line-num="75">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="743" source-line-num="75">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|arb_out">|arb_out</span></span>
<span class="line" line-num="744" source-line-num="75">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|arb_out@2">@1</span></span>
<span class="line" line-num="745" source-line-num="75">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="746" source-line-num="75">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 75 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |arb_out, @1))))</span></span>
<span class="line" line-num="747" source-line-num="75">                  </span>
<span class="line" line-num="748" source-line-num="75">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="749" source-line-num="75">               </span>
<span class="line" line-num="750" source-line-num="75">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="751" source-line-num="75">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="752" source-line-num="75">         </span>
<span class="line" line-num="753" source-line-num="75">         <span class="tlv_ident_comment">// In1 is blocked if output is blocked.</span></span>
<span class="line" line-num="754" source-line-num="75">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out">|ring_out</span></span>
<span class="line" line-num="755" source-line-num="75">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|ring_out@8">@4</span></span>
<span class="line" line-num="756" source-line-num="75">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|ring_out$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|arb_out"tlx_ref="">|arb_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|arb_out@2">&gt;&gt;-3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="757" source-line-num="75">         <span class="tlv_ident_comment">// In2 is blocked if output is blocked or in1 is available.</span></span>
<span class="line" line-num="758" source-line-num="75">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass">|bypass</span></span>
<span class="line" line-num="759" source-line-num="75">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|bypass@2">@1</span></span>
<span class="line" line-num="760" source-line-num="75">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|bypass$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|arb_out"tlx_ref="">|arb_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|arb_out@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$blocked">$blocked</span> <span class="tlv_ident_hdl_code">||</span></span>
<span class="line" line-num="761" source-line-num="75">                          <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@8">&gt;&gt;3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="762" source-line-num="75">         <span class="tlv_ident_comment">// Output comes from in1 if available, otherwise, in2.</span></span>
<span class="line" line-num="763" source-line-num="75">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|arb_out">|arb_out</span></span>
<span class="line" line-num="764" source-line-num="75">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|arb_out@2">@1</span></span>
<span class="line" line-num="765" source-line-num="75">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|arb_out$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@8">&gt;&gt;3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="766" source-line-num="75">               <span class="tlv_ident_comment">// Output is available if either input is available.</span></span>
<span class="line" line-num="767" source-line-num="75">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|arb_out$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@8">&gt;&gt;3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">||</span></span>
<span class="line" line-num="768" source-line-num="75">                        <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass"tlx_ref="">|bypass</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bypass@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|bypass$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="769" source-line-num="75">               <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="770" source-line-num="75">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|arb_out/trans">/trans</span></span>
<span class="line" line-num="771" source-line-num="75">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|arb_out/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@8">&gt;&gt;3</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|ring_out$avail">$avail</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|ring_out"tlx_ref="">|ring_out</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|ring_out/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|ring_out@8">&gt;&gt;3</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|ring_out/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="772" source-line-num="75">                                                                                <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|bypass"tlx_ref="">|bypass</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|bypass/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|bypass@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|bypass/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="773" source-line-num="75">         </span>
<span class="line" line-num="774" source-line-num="75">      <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="775" source-line-num="76">      <span class="tlv_ident_comment">// FIFO2</span></span>
<span class="line" line-num="776" source-line-num="77">      <span class="tlv_ident_comment">// To use BaseJump STL, this line:</span></span>
<span class="line" line-num="777" source-line-num="78">      <span class="tlv_ident_comment">//m4+simple_bypass_fifo_v2(/ring_stop, |arb_out, @1, |fifo2_out, @1, 4, 100, /trans)        </span></span>
<span class="line" line-num="778" source-line-num="79">      <span class="tlv_ident_comment">// Becomes:</span></span>
<span class="line" line-num="779" source-line-num="80">      <span class="tlv_ident_comment">//----------------</span></span>
<span class="line" line-num="780" source-line-num="81">      <span class="tlv_ident_pipeline" logical_entity="/ring_stop|arb_out">|arb_out</span></span>
<span class="line" line-num="781" source-line-num="82">         <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|arb_out@2">@1</span></span>
<span class="line" line-num="782" source-line-num="83">            <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="783" source-line-num="84">               <span class="tlv_ident_hdl_code">bsg_fifo_1r1w_small #(.width_p(100)) my_fifo(</span></span>
<span class="line" line-num="784" source-line-num="85">                  <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">clk, </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$reset">$reset</span><span class="tlv_ident_hdl_code">,</span></span>
<span class="line" line-num="785" source-line-num="86">                  <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$avail">$avail</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|arb_out$ready">$$ready</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|arb_out/trans"tlx_ref="">/trans</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|arb_out/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">,</span></span>
<span class="line" line-num="786" source-line-num="87">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|fifo2_out$avail">$$avail</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|fifo2_out/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|fifo2_out/trans$ANY">$$ANY</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$accepted">$accepted</span></span>
<span class="line" line-num="787" source-line-num="88">               <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="788" source-line-num="89">            <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|arb_out$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|arb_out$ready">$ready</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="789" source-line-num="90">      <span class="tlv_ident_comment">//----------------</span></span>
<span class="line" line-num="790" source-line-num="91">   </span>
<span class="line" line-num="791" source-line-num="92">   </span>
<span class="line" line-num="792" source-line-num="93">   <span class="tlv_ident_comment">//m4+trans()</span></span>
<span class="line" line-num="793" source-line-num="94">   </span>
<span class="line" line-num="794" source-line-num="95">   </span>
<span class="line" line-num="795" source-line-num="96">   <span class="tlv_ident_comment">// Testbench</span></span>
<span class="line" line-num="796" source-line-num="97">   <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 1305   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 97 as: m4+router_testbench(/top, /ring_stop, |stall0, @1, |fifo2_out, @1, /trans, /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="797" source-line-num="97">        <span class="tlv_ident_comment">// Otherwise we can have a cyclic reset loop through flow.</span></span>
<span class="line" line-num="798" source-line-num="97">      <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="799" source-line-num="97">         <span class="tlv_ident_comment">// Define flow interface. Note that router ins are tb outs and outs are ins.</span></span>
<span class="line" line-num="800" source-line-num="97">         <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1309 as: m4+flow_interface(/ring_stop, [' |fifo2_out, @1'], [' |stall0, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="801" source-line-num="97">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |fifo2_out, @1'], /top&lt;&gt;0$reset)</span></span>
<span class="line" line-num="802" source-line-num="97">               <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="803" source-line-num="97">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="804" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|fifo2_out@2">@1</span></span>
<span class="line" line-num="805" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|fifo2_out$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="806" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|fifo2_out$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">=  </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_alignment_zero_expr" logical_entity="|none@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="807" source-line-num="97">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="808" source-line-num="97">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 97 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |fifo2_out, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="809" source-line-num="97">                  </span>
<span class="line" line-num="810" source-line-num="97">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="811" source-line-num="97">               </span>
<span class="line" line-num="812" source-line-num="97">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="813" source-line-num="97">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |stall0, @1'])</span></span>
<span class="line" line-num="814" source-line-num="97">               <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="815" source-line-num="97">               <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0">|stall0</span></span>
<span class="line" line-num="816" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall0@2">@1</span></span>
<span class="line" line-num="817" source-line-num="97">                     <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="818" source-line-num="97">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 97 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |stall0, @1))))</span></span>
<span class="line" line-num="819" source-line-num="97">                  </span>
<span class="line" line-num="820" source-line-num="97">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="821" source-line-num="97">               </span>
<span class="line" line-num="822" source-line-num="97">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="823" source-line-num="97">         <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="824" source-line-num="97">      </span>
<span class="line" line-num="825" source-line-num="97">      </span>
<span class="line" line-num="826" source-line-num="97">      </span>
<span class="line" line-num="827" source-line-num="97">   </span>
<span class="line" line-num="828" source-line-num="97">      <span class="tlv_ident_beh_hier_2" logical_entity="/tb">/tb</span></span>
<span class="line" line-num="829" source-line-num="97">         <span class="tlv_ident_pipeline" logical_entity="/tb|count">|count</span></span>
<span class="line" line-num="830" source-line-num="97">            <span class="tlv_ident_stage_expr" logical_entity="/tb|count@2">@1</span></span>
<span class="line" line-num="831" source-line-num="97">               <span class="tlv_ident_assigned_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_sv_sig">&lt;</span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@4">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset">$reset</span></span>
<span class="line" line-num="832" source-line-num="97">                                     <span class="tlv_ident_hdl_code">? 16'b0 :</span></span>
<span class="line" line-num="833" source-line-num="97">                                       <span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">+ 1;</span></span>
<span class="line" line-num="834" source-line-num="97">               <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="835" source-line-num="97">                  <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="836" source-line-num="97">                     <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Cycle: %0d&quot;, </span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="837" source-line-num="97">                  <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="838" source-line-num="97">         <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="839" source-line-num="97">            <span class="tlv_ident_comment">// STIMULUS</span></span>
<span class="line" line-num="840" source-line-num="97">            <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|send">|send</span></span>
<span class="line" line-num="841" source-line-num="97">               <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|send@2">@1</span></span>
<span class="line" line-num="842" source-line-num="97">                  <span class="tlv_ident_comment">// Generate a transaction to inject sometimes (if needed)</span></span>
<span class="line" line-num="843" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="844" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send$valid_in">$valid_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb|count@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">== 3;</span></span>
<span class="line" line-num="845" source-line-num="97">                  <span class="tlv_ident_when">?$valid_in</span></span>
<span class="line" line-num="846" source-line-num="97">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|send/gen_trans">/gen_trans</span></span>
<span class="line" line-num="847" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$cyc_cnt">$cyc_cnt</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">15</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb|count@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="848" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$response_debug">$response_debug</span> <span class="tlv_ident_hdl_code">= 1'b0;  </span><span class="tlv_ident_comment">// Not a response (for debug)</span></span>
<span class="line" line-num="849" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$sender">$sender</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop;</span></span>
<span class="line" line-num="850" source-line-num="97">                        <span class="tlv_ident_comment">//m4_rand($size, M4_PACKET_SIZE-1, 0, #m4_port) // unused</span></span>
<span class="line" line-num="851" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$dest_tmp">$dest_tmp</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">RW_rand_vect[(0 + (ring_stop)) % 257 +: 2];</span></span>
<span class="line" line-num="852" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send/gen_trans$dest_tmp">$dest_tmp</span> <span class="tlv_ident_hdl_code">% 4;</span></span>
<span class="line" line-num="853" source-line-num="97">                        <span class="tlv_ident_comment">//$dest[M4_['']M4_PORT['']_INDEX_RANGE] = #m4_port;</span></span>
<span class="line" line-num="854" source-line-num="97">                        <span class="tlv_ident_comment">//$packet_valid = #m4_port == 0 ? 1'b1 : 1'b0; // valid for only first port - unused</span></span>
<span class="line" line-num="855" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|send$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send$valid_in">$valid_in</span> <span class="tlv_ident_hdl_code">|| </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_request">$valid_request</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="856" source-line-num="97">                  <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="857" source-line-num="97">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|send/trans_out">/trans_out</span></span>
<span class="line" line-num="858" source-line-num="97">                        <span class="tlv_ident_comment">// Loopback requests as responses or use gen_trans.</span></span>
<span class="line" line-num="859" source-line-num="97">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/ring_stop|send/trans_out$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_request">$valid_request</span></span>
<span class="line" line-num="860" source-line-num="97">                                    <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/ring_stop|receive2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">:</span></span>
<span class="line" line-num="861" source-line-num="97">                                      <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|send/gen_trans"tlx_ref="">/gen_trans</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/ring_stop|send/gen_trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="862" source-line-num="97">                        </span>
<span class="line" line-num="863" source-line-num="97">                        <span class="tlv_ident_keyword1">\SV_plus</span></span>
<span class="line" line-num="864" source-line-num="97">                           <span class="tlv_ident_hdl_code">always_ff @(posedge clk) begin</span></span>
<span class="line" line-num="865" source-line-num="97">                              <span class="tlv_ident_hdl_code">if (! </span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">reset &amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|stall0@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$accepted">$accepted</span><span class="tlv_ident_hdl_code">) begin</span></span>
<span class="line" line-num="866" source-line-num="97">                                 <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;</span><span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">|send[%0d]&quot;, </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop);</span></span>
<span class="line" line-num="867" source-line-num="97">                                 <span class="tlv_ident_sv_sig">\</span><span class="tlv_ident_hdl_code">$display(&quot;Sender: %0d, Orig. Cyc: %0d, Dest: %0d, Resp: %0d&quot;, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send/trans_out$sender">$sender</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send/trans_out$cyc_cnt">$cyc_cnt</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send/trans_out$dest">$dest</span><span class="tlv_ident_hdl_code">, </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send/trans_out$response_debug">$response_debug</span><span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="868" source-line-num="97">                              <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="869" source-line-num="97">                           <span class="tlv_ident_hdl_code">end</span></span>
<span class="line" line-num="870" source-line-num="97">            <span class="tlv_ident_comment">// Hook router out to |receive1 and determine transaction response routing (within the transaction).</span></span>
<span class="line" line-num="871" source-line-num="97">            <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1">|receive1</span></span>
<span class="line" line-num="872" source-line-num="97">               <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive1@2">@1</span></span>
<span class="line" line-num="873" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="874" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|fifo2_out$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="875" source-line-num="97">                  <span class="tlv_ident_when">?$accepted</span></span>
<span class="line" line-num="876" source-line-num="97">                     <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive1/trans">/trans</span></span>
<span class="line" line-num="877" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$response_debug">$response_debug</span> <span class="tlv_ident_hdl_code">= 1'b1; </span><span class="tlv_ident_comment">// Turn this around as a response.</span></span>
<span class="line" line-num="878" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$request">$request</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">!= </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop;  </span><span class="tlv_ident_comment">// Arrived as request?</span></span>
<span class="line" line-num="879" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$response">$response</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">== </span><span class="tlv_ident_sv_sig">#</span><span class="tlv_ident_hdl_code">ring_stop; </span><span class="tlv_ident_comment">// Arrived as response?</span></span>
<span class="line" line-num="880" source-line-num="97">                        <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/ring_stop|receive1/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out"tlx_ref="">|fifo2_out</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|fifo2_out/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/ring_stop|fifo2_out@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/ring_stop|fifo2_out/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="881" source-line-num="97">                        <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$dest">$dest</span><span class="tlv_ident_pipe_sig">[</span><span class="tlv_ident_hdl_code">1</span><span class="tlv_ident_pipe_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_pipe_sig">] </span><span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$request">$request</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$sender">$sender</span> <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1/trans$dest">$dest</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="882" source-line-num="97">            <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 342   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 1368 as: m4+bp_stage(/ring_stop, |receive1, @1, |receive2, @1, /trans)</span></span>
<span class="line" line-num="883" source-line-num="97">               </span>
<span class="line" line-num="884" source-line-num="97">               </span>
<span class="line" line-num="885" source-line-num="97">               </span>
<span class="line" line-num="886" source-line-num="97">               </span>
<span class="line" line-num="887" source-line-num="97">               </span>
<span class="line" line-num="888" source-line-num="97">               </span>
<span class="line" line-num="889" source-line-num="97">               <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 114   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 349 as: m4+flow_interface(/ring_stop, [' |receive1, @1'], [' |receive2, @1'], )</span></span>
<span class="line" line-num="890" source-line-num="97">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 115 as: m4+flow_inputs(/ring_stop, [' |receive1, @1'], )</span></span>
<span class="line" line-num="891" source-line-num="97">                     <span class="tlv_ident_comment">// Avail/Blocked Input:</span></span>
<span class="line" line-num="892" source-line-num="97">                     <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1">|receive1</span></span>
<span class="line" line-num="893" source-line-num="97">                        <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive1@2">@1</span></span>
<span class="line" line-num="894" source-line-num="97">                           <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// provided for optional upstream use.</span></span>
<span class="line" line-num="895" source-line-num="97">                           <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1$reset_in">$reset_in</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="896" source-line-num="97">                           <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$accepted">$accepted</span> <span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">)</span></span>
<span class="line" line-num="897" source-line-num="97">                     <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 119   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 97 as: m4+flow_inputs(/ring_stop, m4_quote(m4_shift(m4_shift( |receive1, @1))), m4_quote(m4_shift(_resets)))</span></span>
<span class="line" line-num="898" source-line-num="97">                        </span>
<span class="line" line-num="899" source-line-num="97">                     <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="900" source-line-num="97">                     </span>
<span class="line" line-num="901" source-line-num="97">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="902" source-line-num="97">                  <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 116 as: m4+flow_outputs(/ring_stop, [' |receive2, @1'])</span></span>
<span class="line" line-num="903" source-line-num="97">                     <span class="tlv_ident_comment">// Avail/Blocked Output:</span></span>
<span class="line" line-num="904" source-line-num="97">                     <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2">|receive2</span></span>
<span class="line" line-num="905" source-line-num="97">                        <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive2@2">@1</span></span>
<span class="line" line-num="906" source-line-num="97">                           <span class="tlv_ident_hdl_code">`BOGUS_USE(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">) </span><span class="tlv_ident_comment">// Output pipes must provide $reset.</span></span>
<span class="line" line-num="907" source-line-num="97">                     <span class="tlv_ident_keyword1">\source /raw.githubusercontent.com/stevehoover/tlvflowlib/5a8c0387be80b2deccfcd1506299b36049e0663e/pipeflowlib.tlv 129   </span><span class="tlv_ident_comment">// Instantiated from top.tlv, 97 as: m4+flow_outputs(/ring_stop, m4_quote(m4_shift(m4_shift( |receive2, @1))))</span></span>
<span class="line" line-num="908" source-line-num="97">                        </span>
<span class="line" line-num="909" source-line-num="97">                     <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="910" source-line-num="97">                     </span>
<span class="line" line-num="911" source-line-num="97">                  <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="912" source-line-num="97">               <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="913" source-line-num="97">               <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2">|receive2</span></span>
<span class="line" line-num="914" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive2@0">@0</span></span>
<span class="line" line-num="915" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$reset_in">$reset_in</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="916" source-line-num="97">                     </span>
<span class="line" line-num="917" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">? 1'b0 :</span></span>
<span class="line" line-num="918" source-line-num="97">                                       <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">) ||  </span><span class="tlv_ident_comment">// Recirc'ed or</span></span>
<span class="line" line-num="919" source-line-num="97">                                       <span class="tlv_ident_comment">// Above is recomputation of $recirc to avoid a flop.</span></span>
<span class="line" line-num="920" source-line-num="97">                                       <span class="tlv_ident_comment">// For SELF, its in the same stage, and is redundant computation.</span></span>
<span class="line" line-num="921" source-line-num="97">                                       <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive1@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$avail">$avail</span><span class="tlv_ident_hdl_code">; </span><span class="tlv_ident_comment">// Incoming available</span></span>
<span class="line" line-num="922" source-line-num="97">                     <span class="tlv_ident_comment">//$first_avail = $avail &amp;&amp; ! &gt;&gt;1$blocked;  // Transaction is newly available.</span></span>
<span class="line" line-num="923" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive2@0">@0</span></span>
<span class="line" line-num="924" source-line-num="97">                     <span class="tlv_ident_when">?$avail  </span><span class="tlv_ident_comment">// Physically, $first_avail &amp;&amp; *reset_b for functional gating in</span></span>
<span class="line" line-num="925" source-line-num="97">                              <span class="tlv_ident_comment">// place of recirculation.</span></span>
<span class="line" line-num="926" source-line-num="97">                        <span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive2/trans">/trans</span></span>
<span class="line" line-num="927" source-line-num="97">                           <span class="tlv_ident_assigned_sig_keyword" logical_entity="/tb/ring_stop|receive2/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="928" source-line-num="97">                              <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">? </span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/ring_stop|receive2/trans$ANY">$ANY</span></span>
<span class="line" line-num="929" source-line-num="97">                                                   <span class="tlv_ident_hdl_code">: </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive1/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive1@2">&gt;&gt;1</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/ring_stop|receive1/trans$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="930" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive2@2">@1</span></span>
<span class="line" line-num="931" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$recirc">$recirc</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;  </span><span class="tlv_ident_comment">// Available transaction that is blocked; must recirc.</span></span>
<span class="line" line-num="932" source-line-num="97">               <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1">|receive1</span></span>
<span class="line" line-num="933" source-line-num="97">                  <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive1@2">@1</span></span>
<span class="line" line-num="934" source-line-num="97">                     <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive1$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$recirc">$recirc</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="935" source-line-num="97">                     <span class="tlv_ident_comment">// This trans is blocked (whether valid or not) if the next stage is recirculating.</span></span>
<span class="line" line-num="936" source-line-num="97">               </span>
<span class="line" line-num="937" source-line-num="97">               </span>
<span class="line" line-num="938" source-line-num="97">               </span>
<span class="line" line-num="939" source-line-num="97">               </span>
<span class="line" line-num="940" source-line-num="97">               </span>
<span class="line" line-num="941" source-line-num="97">               </span>
<span class="line" line-num="942" source-line-num="97">            <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="943" source-line-num="97">            <span class="tlv_ident_comment">// A one-cycle backpressured stage to avoid 0-cycle loopback.</span></span>
<span class="line" line-num="944" source-line-num="97">            <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2">|receive2</span></span>
<span class="line" line-num="945" source-line-num="97">               <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|receive2@2">@1</span></span>
<span class="line" line-num="946" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_request">$valid_request</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2/trans$request">$request</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="947" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_response">$valid_response</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|receive2/trans"tlx_ref="">/trans</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2/trans$response">$response</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="948" source-line-num="97">                  <span class="tlv_ident_comment">// Block requests that cannot loopback a response .</span></span>
<span class="line" line-num="949" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_request">$valid_request</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="950" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$accepted">$accepted</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$avail">$avail</span> <span class="tlv_ident_hdl_code">&amp;&amp; ! </span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="951" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|receive2$generated_request">$generated_request</span> <span class="tlv_ident_hdl_code">=   </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$accepted">$accepted</span> <span class="tlv_ident_hdl_code">&amp;&amp;</span></span>
<span class="line" line-num="952" source-line-num="97">                                       <span class="tlv_ident_hdl_code">! </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0"tlx_ref="">|stall0</span><span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall0/trans"tlx_ref="">/trans</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/ring_stop|stall0@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0/trans$response_debug">$response_debug</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="953" source-line-num="97">                  <span class="tlv_ident_assigned_state_sig" logical_entity="/tb/ring_stop|receive2$OutstandingPackets">$OutstandingPackets</span><span class="tlv_ident_state_sig">[</span><span class="tlv_ident_hdl_code">16-1</span><span class="tlv_ident_state_sig">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_state_sig">] </span><span class="tlv_ident_sv_sig">&lt;</span><span class="tlv_ident_hdl_code">=</span></span>
<span class="line" line-num="954" source-line-num="97">                       <span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">? '0 :</span></span>
<span class="line" line-num="955" source-line-num="97">                         <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_state_sig" logical_entity="/tb/ring_stop|receive2$OutstandingPackets">$OutstandingPackets</span> <span class="tlv_ident_hdl_code">+</span></span>
<span class="line" line-num="956" source-line-num="97">                          <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$generated_request">$generated_request</span> <span class="tlv_ident_hdl_code">? 16'b1 : '0) -</span></span>
<span class="line" line-num="957" source-line-num="97">                          <span class="tlv_ident_hdl_code">(</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$valid_response">$valid_response</span> <span class="tlv_ident_hdl_code">? 16'b1 : '0)</span></span>
<span class="line" line-num="958" source-line-num="97">                         <span class="tlv_ident_hdl_code">);</span></span>
<span class="line" line-num="959" source-line-num="97">            <span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|passed">|passed</span>  <span class="tlv_ident_comment">// Aligned to |receive2, but given a new pipeline name to provide a cleaner interface for this $passed output.</span></span>
<span class="line" line-num="960" source-line-num="97">               <span class="tlv_ident_stage_expr" logical_entity="/tb/ring_stop|passed@2">@1</span></span>
<span class="line" line-num="961" source-line-num="97">                  <span class="tlv_ident_assigned_pipe_sig" logical_entity="/tb/ring_stop|passed$passed">$passed</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/ring_stop|receive2@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/ring_stop|receive2@2">&lt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb/ring_stop|receive2$OutstandingPackets">$OutstandingPackets</span> <span class="tlv_ident_hdl_code">== '0 &amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_pipeline" logical_entity="/tb|count"tlx_ref="">|count</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb|count@2">&gt;&gt;0</span><span class="tlv_ident_state_sig" logical_entity="/tb|count$CycCount">$CycCount</span> <span class="tlv_ident_hdl_code">&gt; 12;</span></span>
<span class="line" line-num="962" source-line-num="97">      <span class="tlv_ident_comment">// Connect with DUT.</span></span>
<span class="line" line-num="963" source-line-num="97">      <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">3</span><span class="tlv_ident_beh_hier_2">:</span><span class="tlv_ident_hdl_code">0</span><span class="tlv_ident_beh_hier_2">]</span></span>
<span class="line" line-num="964" source-line-num="97">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|stall0">|stall0</span></span>
<span class="line" line-num="965" source-line-num="97">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|stall0@2">@1</span></span>
<span class="line" line-num="966" source-line-num="97">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall0$avail">$avail</span> <span class="tlv_ident_hdl_code">= ! </span><span class="tlv_ident_pipe_sig" logical_entity="/ring_stop|stall0$reset">$reset</span> <span class="tlv_ident_hdl_code">&amp;&amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/ring_stop|send@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|send$avail">$avail</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="967" source-line-num="97">               <span class="tlv_ident_when">?$avail</span></span>
<span class="line" line-num="968" source-line-num="97">                  <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|stall0/trans">/trans</span></span>
<span class="line" line-num="969" source-line-num="97">                     <span class="tlv_ident_assigned_sig_keyword" logical_entity="/ring_stop|stall0/trans$ANY">$ANY</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|send"tlx_ref="">|send</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop|send/trans_out"tlx_ref="">/trans_out</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/ring_stop|send@2">&lt;&gt;0</span><span class="tlv_ident_sig_keyword" logical_entity="/tb/ring_stop|send/trans_out$ANY">$ANY</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="970" source-line-num="97">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|stall0$reset">$reset</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive2"tlx_ref="">|receive2</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|receive2@2">&gt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive2$reset">$reset</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="971" source-line-num="97">         <span class="tlv_ident_pipeline" logical_entity="/ring_stop|fifo2_out">|fifo2_out</span></span>
<span class="line" line-num="972" source-line-num="97">            <span class="tlv_ident_stage_expr" logical_entity="/ring_stop|fifo2_out@2">@1</span></span>
<span class="line" line-num="973" source-line-num="97">               <span class="tlv_ident_assigned_pipe_sig" logical_entity="/ring_stop|fifo2_out$blocked">$blocked</span> <span class="tlv_ident_hdl_code">= </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|receive1"tlx_ref="">|receive1</span><span class="tlv_ident_alignment_zero_expr" logical_entity="/tb/ring_stop|receive1@2">&lt;&gt;0</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|receive1$blocked">$blocked</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="974" source-line-num="97">            <span class="tlv_ident_beh_hier_2" logical_entity="/ring_stop|fifo2_out/trans">/trans</span></span>
<span class="line" line-num="975" source-line-num="97">      </span>
<span class="line" line-num="976" source-line-num="97">      </span>
<span class="line" line-num="977" source-line-num="97">   <span class="tlv_ident_keyword1">\end_source</span></span>
<span class="line" line-num="978" source-line-num="98">   </span>
<span class="line" line-num="979" source-line-num="99">   </span>
<span class="line" line-num="980" source-line-num="100">   <span class="tlv_ident_comment">// Simulation control.</span></span>
<span class="line" line-num="981" source-line-num="101">   <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">passed = &amp; </span><span class="tlv_ident_beh_hier_2" logical_entity=""tlx_ref="">/top</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb"tlx_ref="">/tb</span><span class="tlv_ident_beh_hier_2" logical_entity="/tb/ring_stop"tlx_ref="">/ring_stop</span><span class="tlv_ident_beh_hier_2">[</span><span class="tlv_ident_hdl_code">*</span><span class="tlv_ident_beh_hier_2">]</span><span class="tlv_ident_pipeline" logical_entity="/tb/ring_stop|passed"tlx_ref="">|passed</span><span class="tlv_ident_alignment_ahead_expr" logical_entity="/tb/ring_stop|passed@2">&gt;&gt;1</span><span class="tlv_ident_pipe_sig" logical_entity="/tb/ring_stop|passed$passed">$passed</span><span class="tlv_ident_hdl_code">;</span></span>
<span class="line" line-num="982" source-line-num="102">   <span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">failed = </span><span class="tlv_ident_sv_sig">*</span><span class="tlv_ident_hdl_code">cyc_cnt &gt; 80;</span></span>
<span class="line" line-num="983" source-line-num="103"><span class="tlv_ident_keyword1">\SV</span></span>
<span class="line" line-num="984" source-line-num="104"><span class="tlv_ident_hdl_code">endmodule </span></span>

</pre>

</body>
</html>
